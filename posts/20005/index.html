<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Shell 命令, Home of Gaofeng">
    <meta name="description" content="基本知识/命令变量赋值语句不能有空格1、shell脚本变量名和等号及等号和值之间不能有空格，这可能和我们熟悉的所有编程语言都不一样，变量命名须遵循如下规则：•首个字符必须为字母（a-z，A-Z）。•中间不能有空格，可以使用下划线（_）。•不">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    

    <title>Shell 命令 | Home of Gaofeng</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Home of Gaofeng" type="application/atom+xml">

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Home of Gaofeng</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Home of Gaofeng</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Shell 命令</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Linux/">
                                <span class="chip bg-color">Linux</span>
                            </a>
                        
                            <a href="/tags/%E8%BF%90%E7%BB%B4/">
                                <span class="chip bg-color">运维</span>
                            </a>
                        
                            <a href="/tags/sed/">
                                <span class="chip bg-color">sed</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Linux/" class="post-category">
                                Linux
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-03-06
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    6.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    25 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="基本知识-命令"><a href="#基本知识-命令" class="headerlink" title="基本知识/命令"></a>基本知识/命令</h2><h3 id="变量赋值语句不能有空格"><a href="#变量赋值语句不能有空格" class="headerlink" title="变量赋值语句不能有空格"></a>变量赋值语句不能有空格</h3><p><strong>1、shell脚本变量名和等号及等号和值之间不能有空格，这可能和我们熟悉的所有编程语言都不一样，变量命名须遵循如下规则：</strong><br>•首个字符必须为字母（a-z，A-Z）。<br>•中间不能有空格，可以使用下划线（_）。<br>•不能使用标点符号。<br>•不能使用bash里的关键字（可用help命令查看保留关键字）。</p>
<p>赋值语句等号两边不能有空格，中间有空格时，shell是把变量当一个命令执行的，如：</p>
<p>PROV = anhui</p>
<p>执行时会提示：./tt.sh: line 14: PROV: command not found</p>
<p>正确的写法是：</p>
<p>PROV=anhui</p>
<p>如果所赋的值包含空格，可以用引号括起来（没有空格时也可以用引号，效果和不用一样），例如：</p>
<p>PROV=”anhui province”</p>
<p><strong>2、变量的引用是用$符号加上变量名，例如：</strong></p>
<p>echo  ../${PROV}/${DATDIR}</p>
<p>变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界，建议给所有变量加上花括号，这是个好习惯，既便于阅读，又不易出错。 </p>
<p><strong>最后想说明一下，shell脚本对空格有严格的规定，赋值语句等号两边不能有空格，而字符串比较，等号两边必须有空格，如：</strong></p>
<p>if [ “${sdpt}” = “sdpt_js” ]; then</p>
<h3 id="将命令的输出结果赋值给变量"><a href="#将命令的输出结果赋值给变量" class="headerlink" title="将命令的输出结果赋值给变量"></a>将命令的输出结果赋值给变量</h3><p>Shell 中有两种方式可以完成命令替换，一种是反引号<code> </code>，一种是$()，使用方法如下：</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">variable<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">commands</span><span class="token template-punctuation string">`</span></span>
variable<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>commands<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>但有种情况比较特殊</strong></p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">file_path<span class="token operator">=</span><span class="token string">"/home/yskj/phopt/work/2/100/209/Ma0.8395H0α3.06"</span>

version_num<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">echo </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file_path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> | cut -d / -f 8</span><span class="token template-punctuation string">`</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>version_num 那一行是一个字符串的分割，最终得到209，我想把这个值作为变量。<br>如果不加echo是会报错，因为单独运行，会去执行<code>${file_path}这条命令，因为后面是管道</code>，而加上echo，就是输出，是一个正常的命令。<br>最后相当于把输出的结果赋值给了version_num这个变量</p>
<h3 id="shell脚本中登录mysql-执行sql"><a href="#shell脚本中登录mysql-执行sql" class="headerlink" title="shell脚本中登录mysql,执行sql"></a>shell脚本中登录mysql,执行sql</h3><p><strong>方式一：mysql -u root -pmysql &lt;&lt;EOF sql语句 EOF</strong><br>注：密码与-p之间不能有空格，否则不能识别密码，EOF中间的sql语句，与mysql正常语句无异</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span> <span class="token comment">#!/bin/bash</span>
<span class="token number">2</span> <span class="token builtin class-name">echo</span> <span class="token string">"链接mysql"</span>
<span class="token number">3</span> mysql -u root -pmysql <span class="token operator">&lt;&lt;</span>EOF
<span class="token number">4</span> use shelltest<span class="token punctuation">;</span>
<span class="token number">5</span> <span class="token keyword">select</span> * from student<span class="token punctuation">;</span>
<span class="token number">6</span> EOF
<span class="token number">7</span> <span class="token builtin class-name">echo</span> <span class="token string">"连接成功"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>执行结果：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python@ubuntu:~/shellscrip$ ./mys_connec.sh 
链接mysql
mysql: <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> Using a password on the <span class="token builtin class-name">command</span> line interface can be insecure.
<span class="token function">id</span>	name
<span class="token number">1</span>	tom
连接成功<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>方式二：mysql -u root -pmysql -e “${sql}”</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span> <span class="token comment">#!/bin/bash</span>
<span class="token number">2</span> <span class="token builtin class-name">echo</span> <span class="token string">"链接mysql"</span>
<span class="token number">3</span> <span class="token assign-left variable">sql</span><span class="token operator">=</span><span class="token string">"use shelltest;
4 select * from student;"</span>
<span class="token number">5</span> mysql -u root -pmysql -e <span class="token string">"<span class="token variable">${sql}</span>"</span>
<span class="token number">6</span> <span class="token builtin class-name">echo</span> <span class="token string">"连接成功"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>执行结果：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python@ubuntu:~/shellscrip$ ./mys_connec.sh 
链接mysql
mysql: <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> Using a password on the <span class="token builtin class-name">command</span> line interface can be insecure.
+------+------+
<span class="token operator">|</span> <span class="token function">id</span>   <span class="token operator">|</span> name <span class="token operator">|</span>
+------+------+
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> tom  <span class="token operator">|</span>
+------+------+
连接成功<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="读取文件每一行并输出"><a href="#读取文件每一行并输出" class="headerlink" title="读取文件每一行并输出"></a>读取文件每一行并输出</h3><p>方案一：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##!/bin/bash</span>

<span class="token keyword">while</span> <span class="token builtin class-name">read</span> line
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$line</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span> test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>方案二：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##!/bin/bash</span>

<span class="token function">cat</span> test.txt <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> line
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$line</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>方案三：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">line</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span>  test.txt<span class="token variable">`</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$line</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>for 逐行读和 while 逐行读是有区别的，如:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> test.txt
Google
Runoob
Taobao

$ <span class="token function">cat</span> test.txt <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> line<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token builtin class-name">echo</span> <span class="token variable">$line</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
Google
Runoob
Taobao


$ <span class="token keyword">for</span> <span class="token for-or-select variable">line</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token operator">&lt;</span>test.txt<span class="token variable">)</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token builtin class-name">echo</span> <span class="token variable">$line</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
Google
Runoob
Taobao<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="if-与-for-循环"><a href="#if-与-for-循环" class="headerlink" title="if 与 for 循环"></a>if 与 for 循环</h3><pre class="line-numbers language-none"><code class="language-none">getfilesordir(){
    for file in `ls $1`
    do
        if test -f $file
        then
            echo "file:  $file"
        elif test -d $file
        then
            echo "path: $file"
        fi
    done
}
 
path="./"
getfilesordir $path<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="遍历文件夹"><a href="#遍历文件夹" class="headerlink" title="遍历文件夹"></a>遍历文件夹</h3><p><strong>遍历文件夹下所有文件，不包含子目录：</strong><br></p><pre class="line-numbers language-none"><code class="language-none">getfilesordir(){
    for file in `ls $1`
    do
        if test -f $file
        then
            echo "file:  $file"
        elif test -d $file
        then
            echo "path: $file"
        fi
    done
}
 
path="./"
getfilesordir $path<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p></p>
<p><strong>遍历文件夹下所有文件不包含子目录</strong><br></p><pre class="line-numbers language-none"><code class="language-none">dir="/home/fut/Desktop/"
ls $dir | while read line
do
 
    file=${dir}${line}
    echo file
  fi
done<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p></p>
<p><strong>遍历目录包含子目录</strong><br></p><pre class="line-numbers language-none"><code class="language-none">##!/bin/bash
function getdir(){
    for element in `ls $1`
    do  
        dir_or_file=$1"/"$element
        if [ -d $dir_or_file ]
        then 
            getdir $dir_or_file
        else
            echo $dir_or_file
        fi  
    done
}
root_dir="/home/test"
getdir $root_dir<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br>以下命令均不包含”.”，”..”目录，以及”.”开头的隐藏文件，如需包含，ll 需要加上 -a参数#当前目录下文件个数，不包含子目录ll |grep “^-“|wc -l#当前目录下目录个数，不包含子目录ll |grep “^d”|wc -l#当前目录下文件个数，包含子目录ll -R|grep “^-“|wc -l#当前目录下目录个数，包含子目录ll -R|grep “^d”|wc -l<p></p>
<h3 id="字符串与整数比较"><a href="#字符串与整数比较" class="headerlink" title="字符串与整数比较"></a>字符串与整数比较</h3><pre class="line-numbers language-none"><code class="language-none">##!/bin/sh
##字符串比较(比较大小以及是否相等)
a=hello
b=hello
c=how
if [[ "$a" == "$b" ]];then  #注意对于字符串的相等比较，使用=或==都可以，二者是等价的
	echo 'same'
else
	echo not same
fi

if [[ "$a"!="$c" ]];then
	echo "a!=c"
fi


if [[ "$a" &lt; "$c" ]];then
	echo "a&lt;c"
fi

##整数比较
a=1
b=2
if(($a&lt;=$b));then
	echo "a&lt;=b"
fi

if((a&lt;=b));then
	echo "a&lt;=b"
fi

## 整数运算
d=$(($a+$b))
echo $d

c=$((a+b))
echo $c

## 整数运算
c=$((a+b))
echo $c

##浮点数运算
a=1.223
b=2.3
c=$(echo $a+$b|bc)
echo $c<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="将shell命令的执行结果放入数组"><a href="#将shell命令的执行结果放入数组" class="headerlink" title="将shell命令的执行结果放入数组"></a>将shell命令的执行结果放入数组</h3><pre class="line-numbers language-none"><code class="language-none">arr=( `git branch | xargs` )
echo ${arr[@]}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="自动填充密码"><a href="#自动填充密码" class="headerlink" title="自动填充密码"></a>自动填充密码</h3><p>有时候执行一些命令会要求输入密码，但是比较麻烦，想把密码放在命令中。</p>
<p><strong>法一：</strong><br></p><pre class="line-numbers language-none"><code class="language-none">echo "123" | sudo -S sntp -sS 182.92.12.11<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><strong>法二：</strong><br><pre class="line-numbers language-none"><code class="language-none">sudo -S sntp -sS 182.92.12.11 &lt;&lt; EOF 
123
EOF<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p></p>
<p>注意点：</p>
<ol>
<li>sudo -S不能少</li>
<li>使用EOF要小心，最后一个EOF要贴紧，否则会报错</li>
</ol>
<h3 id="ssh密钥登录并执行脚本"><a href="#ssh密钥登录并执行脚本" class="headerlink" title="ssh密钥登录并执行脚本"></a>ssh密钥登录并执行脚本</h3><pre class="line-numbers language-none"><code class="language-none">ssh -t username@ip -i C:/Users/76585/.ssh/phcloudYSKJ "/home/yskj/lgf/cfdplatform/change_cfdplatform.sh"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol>
<li>usernam和ip要换成实际的</li>
<li>-i后面的是本地的密钥文件全路径</li>
</ol>
<h3 id="scp加速传输与下载"><a href="#scp加速传输与下载" class="headerlink" title="scp加速传输与下载"></a>scp加速传输与下载</h3><p>本地传输至服务器：<br></p><pre class="line-numbers language-none"><code class="language-none">scp -i "这是本地密钥全路径" -c aes192-cbc -o "Compression yes" "本地要上传的东西的全路径" username@ip:"上传到服务器那个位置"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p></p>
<ol>
<li>上述目录引号里面的内容换位实际的后，不要引号。关键在于 -c aes192-cbc -o “Compression yes” 。-c后面的是压缩算法，自己也是试了几个选了个最快的。可以google搜索下scp下载慢</li>
</ol>
<p>服务下载至本地：<br>上面命令把username@ip:xxx与本地路径交换即可。<br></p><pre class="line-numbers language-none"><code class="language-none">scp -i C:/Users/76585/.ssh/phcloudYSKJ -c aes192-cbc username@ip:/home/yskj/phserver/cfdplatform.log C:/Users/76585/Desktop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p></p>
<h3 id="判断上一条命令是否执行成功"><a href="#判断上一条命令是否执行成功" class="headerlink" title="判断上一条命令是否执行成功"></a>判断上一条命令是否执行成功</h3><pre class="line-numbers language-none"><code class="language-none">##!/bin/bash
CGO_ENABLED=0 GOOS=GOARCH=amd64 go buicfdplatform main.go 
if [[ $? -eq $'\n' ]]; then
	echo "编译成功"
else
	echo "编译失败"
    exit 1
fi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="实际命令分析"><a href="#实际命令分析" class="headerlink" title="实际命令分析"></a>实际命令分析</h2><h3 id="shell脚本登录mysql并执行语句"><a href="#shell脚本登录mysql并执行语句" class="headerlink" title="shell脚本登录mysql并执行语句"></a>shell脚本登录mysql并执行语句</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##!/bin/bash</span>

<span class="token comment">## get 7 days ago according to input date. e.g. if input date is 20180410,it will delete those records on or before 20180403</span>
<span class="token assign-left variable">wanted_date</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">date</span> -d <span class="token string">"<span class="token variable">$1</span> 7 days ago"</span> +%Y%m%d<span class="token variable">`</span></span>

<span class="token builtin class-name">echo</span> <span class="token string">"0==}=========&gt; CAUTION! Those records on or before <span class="token variable">$wanted_date</span> will be removed!"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"0==}=========&gt; Are you sure to continue? yes/no"</span>
<span class="token builtin class-name">read</span> option
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$option</span>"</span> <span class="token operator">==</span> <span class="token string">"yes"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> You made a good choice.
  <span class="token builtin class-name">echo</span> ----------
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$option</span>"</span> <span class="token operator">==</span> <span class="token string">"no"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> Goodbye~
  <span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> PLASE INPUT <span class="token function">yes</span> OR no THEN TRY AGAIN<span class="token operator">!</span>
  <span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token keyword">fi</span>

<span class="token comment">## to call SQL statement at MySQL prompt</span>
mysql -h <span class="token number">172.33</span>.101.123 -P <span class="token number">3306</span> -u tony -pYourPassword -D YourDbName <span class="token operator">&lt;&lt;</span><span class="token string">EOF
select current_date();
use tony_db;
desc confirmed_order_data;
select count(*) from confirmed_order_data where paid_date&lt;="<span class="token variable">$wanted_date</span>";
delete from confirmed_order_data WHERE paid_date&lt;="<span class="token variable">$wanted_date</span>";
select count(*) from confirmed_order_data where paid_date&lt;="<span class="token variable">$wanted_date</span>";

EOF</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="提取git中某个文件的所有版本并按顺序命名"><a href="#提取git中某个文件的所有版本并按顺序命名" class="headerlink" title="提取git中某个文件的所有版本并按顺序命名"></a>提取git中某个文件的所有版本并按顺序命名</h3><pre class="line-numbers language-none"><code class="language-none">git log --follow --pretty=format:%H 文件名 | xargs -I{} sh -c 'git show {}:文件名 &gt; 文件名.{}'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>简略解释版本：</p>
<pre class="line-numbers language-none"><code class="language-none">git log --follow --pretty=format:%H 
//按照一定的格式输出 ，--pretty=format:%H 输出某个文件的历史提交哈希值。
//如果不加--pretty=format:%H，会输出哈希值，作者，时间等信息。
//--pretty=format后面还可以跟其它值，
//'%H': commit hash
//'%h':abbreviated commit hash
//'%T': tree hash



| xargs -I{} 

//xargs 一般是和管道(I)一起使用
 //-I{} //xargs 的一个选项 -I，使用 -I 指定一个替换字符串 {}，这个字符串在 xargs 扩展时会被替换掉；对应这里，前面输出的是哈希值，这里面"{}"代表的就是哈希值，后面的"{}"也是前面的哈希值。

sh -c 
//暂时不清，下面有解释

git show {}:文件名 &gt; 文件名.{} 
 //git show '哈希值':文件名：输出这次提交，这个文件夹的内容， "&gt;" 将内容输出到 后面的文件中，并覆盖后面文件内容。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<ol>
<li>| xargs -I{} sh c</li>
</ol>
</blockquote>
<pre class="line-numbers language-none"><code class="language-none">|  //表示管道，上一条命令的输出，作为下一条命令参数，如 echo ‘yes’ | wc -l

xargs -I //

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">sh -c

Linux使用 echo 并配合命令重定向是实现向文件中写入信息的快捷方式。
【新建空文件】
方式一 : $ touch test.sh
方式二 : $ echo “” &gt; test.sh
【写内容到文件】
如 test.sh 文件中内容：
$ echo “信息” &gt; test.sh

但有时会出现权限不够的问题，这时就可以使用 sh -c

利用 “sh -c” 命令，它可以让 bash 将一个字串作为完整的命令来执行，这样就可以将 sudo 的影响范围扩展到整条命令。具体用法如下：
$ sudo sh -c ‘echo “第二条内容” &gt;&gt; test.sh’
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="给每一个远程分支在本地建立单独的文件夹，文件名就是分支名"><a href="#给每一个远程分支在本地建立单独的文件夹，文件名就是分支名" class="headerlink" title="给每一个远程分支在本地建立单独的文件夹，文件名就是分支名"></a>给每一个远程分支在本地建立单独的文件夹，文件名就是分支名</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> branch -r <span class="token operator">|</span> <span class="token function">xargs</span> -d/ -n1 <span class="token operator">|</span> <span class="token function">grep</span> -v <span class="token string">'origin'</span> <span class="token operator">|</span> <span class="token function">xargs</span> -I<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token function">sh</span> -c <span class="token string">'mkdir "C:\Users\76585\Desktop\try\{}" '</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>分析：</p>
<pre class="line-numbers language-none"><code class="language-none">1.  git branch -r //显示远程分支。注意，本地分支可能只有一个，master这种。但远程分支可能有很多个。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">2. | xargs -d/ -n1 // -d -n都是xargs的参数，详细可以去查文档。-d/  以"/"为分隔符；-n1，每行输出一个。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">3. grep -v 'origin' // 遇到origin就不显示（删除这个字符串）。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>冷知识：在Windows下运行sh文件，在当前路径下，<code>./</code>;<br>如果是非当前路径，<code>c/xx/xxx/1.sh  //绝对路径到sh文件就好，前面不用加./</code> </p>
<h3 id="按提交信息来过滤提交-—grep"><a href="#按提交信息来过滤提交-—grep" class="headerlink" title="按提交信息来过滤提交 —grep"></a>按提交信息来过滤提交 —grep</h3><p>按提交信息来过滤提交，你可以使用—grep标记。它和上面的—author标记差不多，只不过它搜索的是提交信息而不是作者。</p>
<p>背景：提取主干某文件的提交，因为主干都是其它author合并上去的，所有没有主干这个author，无法使用—author这个参数来过滤。但是每次合并到主干的commit 都有一句 “into avtivebranch”，根据这一句筛选即可。</p>
<p>例子：<br></p><pre class="line-numbers language-none"><code class="language-none">git log --grep="JRA-224:" 
//也可以传入-i参数来忽略大小写匹配<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p></p>
<h3 id="获取for循环中按条件筛选出的变量值"><a href="#获取for循环中按条件筛选出的变量值" class="headerlink" title="获取for循环中按条件筛选出的变量值"></a>获取for循环中按条件筛选出的变量值</h3><p><strong>将这个功能写成一个函数，函数内部用echo输出这个值，外部用一个变量接受这个值。</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##!/bin/bash</span>

<span class="token keyword">function</span> <span class="token function-name function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token function">cat</span> cfd.log <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> line
<span class="token keyword">do</span>

    <span class="token assign-left variable">OLD_IFS</span><span class="token operator">=</span><span class="token string">"<span class="token environment constant">$IFS</span>"</span>
    <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">" "</span>
    <span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable">$line</span><span class="token punctuation">)</span>
    <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">"<span class="token variable">$OLD_IFS</span>"</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>"</span> <span class="token operator">=</span> <span class="token string">"cfdversion"</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>
       <span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>2<span class="token punctuation">]</span>}</span>
       <span class="token builtin class-name">break</span>
    <span class="token keyword">fi</span>

<span class="token keyword">done</span>
<span class="token punctuation">}</span>

<span class="token assign-left variable">res</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>func<span class="token variable">)</span></span>

<span class="token builtin class-name">echo</span> <span class="token variable">$res</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="whlie循环菜单"><a href="#whlie循环菜单" class="headerlink" title="whlie循环菜单"></a>whlie循环菜单</h3><pre class="line-numbers language-none"><code class="language-none">#!/bin/bash

while :
do
    echo "--------------------cfdplatform------------------"
    echo '输入 1 到 4 之间的数字:'
    echo '1: 编译'
    echo '2: 编译 + 传输'
    echo '3: 传输'
    echo '4: 下载日志到本地'
    echo '5: 执行远程脚本'
    echo '6: 退出'
    echo '你输入的数字为:'
    read aNum

    case $aNum in
        1)  
            echo '你选择了 "编译"'
            ;;
        2)  
            echo '你选择了 "编译 + 传输"'
            ;;
        3)  
            echo '你选择了 "传输"'
            ;;
        4)  
            echo '你选择了 "下载日志到本地"'
            ;;
        5)  
            echo '你选择了 "执行远程脚本"'
            ;;
        6)  
            echo '你选择了 "退出"'
            exit 1
            ;;
        *)  
            echo '你没有输入 1 到 5 之间的数字，请重新输入'
            ;;
    esac
    echo -e "\n"
done<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h2><h3 id="读取文件夹中的文件名，并存入列表"><a href="#读取文件夹中的文件名，并存入列表" class="headerlink" title="读取文件夹中的文件名，并存入列表"></a>读取文件夹中的文件名，并存入列表</h3><pre class="line-numbers language-none"><code class="language-none">##!/bin/bash
##读取文件夹中的文件名，并存入列表

i=0
for dir in $(ls 'C:\Users\76585\Desktop\cfdname1')
do
    
    # echo $dir &gt;&gt; arr[$i]
    arr[$i]=$dir
    i=$(($i+1))
done

echo "${arr[@]}"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>注意的点：</strong></p>
<pre class="line-numbers language-none"><code class="language-none">1.for 循环循环体只能卸载do done之间，之前把 i 写在了for 和 do之间报错

2.变量初始化不要放在函数体，不然每次循环都清 0 了。

3.变量自增加方法：
a=\$(($a+1))

a=$[$a+1]

a=\`expr $a + 1`

let a++

let a+=1

((a++))

4.打印数组的方法：${my_array[*]} 或者 ${my_array[@]}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="字符串处理"><a href="#字符串处理" class="headerlink" title="字符串处理"></a>字符串处理</h2><h3 id="获取变量字符串长度"><a href="#获取变量字符串长度" class="headerlink" title="获取变量字符串长度"></a>获取变量字符串长度</h3><p>想要知道 “www.baidu.com” 的变量net的长度十分简单。</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ net="www.baidu.com"
[Neptuneyt]$ echo ${#net}
13<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>当然，在Shell中获取字符串变量的长度的方法有许多种，但是下图法一作为一种系统内建的方法是最快的。</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ echo ${#net}
13
[Neptuneyt]$ echo ${net}|wc -L
13
[Neptuneyt]$ expr length ${net}
13
[Neptuneyt]$ echo ${net}|awk '{print length($0)}'
13<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="变量截取"><a href="#变量截取" class="headerlink" title="变量截取"></a>变量截取</h3><p><strong>1.指定位置截取字符串</strong></p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ net="www.baidu.com"
[Neptuneyt]$ # 从第4个字符截取到baidu
[Neptuneyt]$ echo ${net:4:5} #从第4个字符.开始截取5个字符
baidu
[Neptuneyt]$ # 截取baidu.com
[Neptuneyt]$ echo ${net:4}   #起始位置后不接截取字符长度则默认截取之后所有的
baidu.com
[Neptuneyt]$ # 用倒数截取com
[Neptuneyt]$ echo ${net:0-3} #从倒数第三个字符截取到末尾
com
[Neptuneyt]$ echo ${net: -3} #另外的写法，一定要注意冒号和-3之间有空格
com
[Neptuneyt]$ echo ${net:-3}  #不加空格，截取失败
www.baidu.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>2.匹配字符串截取</strong></p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ echo $net
www.baidu.com

## 删除匹配字符串的左边，留下剩余部分
[Neptuneyt]$ echo ${net#*.} #这里用*.表示匹配到www.，用一个#表示删除匹配到的字符串，留下剩余的部分
baidu.com

## 用2个#号表示尽可能多的删除匹配到的字符串
[Neptuneyt]$ echo ${net##*.}
com

## 同理也可以匹配字符串的右边，留下剩余部分
[Neptuneyt]$ echo ${net%.*} #用.*匹配到.com,用%删除
www.baidu

## 用2个%号表示尽可能多的删除匹配到的字符串
[Neptuneyt]$ echo ${net%%.*}    #因为2个%，这里.*表示匹配到最长的.baidu.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>总的来说:<br><code>#*chr</code>表示删除从左到右第一个遇到的字符chr及其左侧的字符<br><code>##*chr</code>表示删除从左到右最后一个遇到的字符chr及其左侧的字符（贪婪模式）<br><code>%chr*</code>表示删除从右向左第一个遇到的字符chr及其右侧的字符<br><code>%%chr*</code>表示删除从右到左最后一个遇到的字符chr及其右侧的字符（贪婪模式）<br>在键盘上，#在$符的左边，%号在$符的右边，为了便于记忆，大家因此可以记住#删除左边字符，%删除右边字符</p>
<p><strong>3.窃取字符串</strong></p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token number">1</span><span class="token punctuation">.</span>cut

<span class="token operator">-</span>b ：以字节为单位进行分割。这些字节位置将忽略多字节字符边界，除非也指定了 <span class="token operator">-</span>n 标志。
<span class="token operator">-</span>c ：以字符为单位进行分割。

<span class="token operator">-</span>d：自定义分隔符，默认为制表符。

<span class="token operator">-</span>f：与<span class="token operator">-</span>d一起使用，指定显示哪个区域。

<span class="token operator">-</span>n：取消分割多字节字符。仅和<span class="token operator">-</span>b标志一起使用。如果字符的最后一个字节落在由<span class="token operator">-</span>b标志的List参数指示的范围之内，该字符将被写出；否则，该字符将被排除。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>-d</strong></p>
<p> cut命令用于列提取，默认分隔符是tab键。</p>
<p>选项：-d指定分隔符，-f指定提取第几列</p>
<p>eg1： 以%作为分隔符 输出第一个%前的区域1的东西，输出区域2的东西     </p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">root@<span class="token constant">ROUTER</span><span class="token operator">:</span><span class="token operator">~</span># echo <span class="token string">"CPU:  busy 14%  (system=10% user=3% nice=0% idle=85%)"</span> <span class="token operator">|</span> cut <span class="token operator">-</span>d \<span class="token operator">%</span> <span class="token operator">-</span>f <span class="token number">1</span>
<span class="token constant">CPU</span><span class="token operator">:</span>  busy <span class="token number">14</span>
root@<span class="token constant">ROUTER</span><span class="token operator">:</span><span class="token operator">~</span># echo <span class="token string">"CPU:  busy 14%  (system=10% user=3% nice=0% idle=85%)"</span> <span class="token operator">|</span> cut <span class="token operator">-</span>d \<span class="token operator">%</span> <span class="token operator">-</span>f <span class="token number">2</span>
  <span class="token punctuation">(</span>system<span class="token operator">=</span><span class="token number">10</span>
root@<span class="token constant">ROUTER</span><span class="token operator">:</span><span class="token operator">~</span># echo <span class="token string">"CPU:  busy 14%  (system=10% user=3% nice=0% idle=85%)"</span> <span class="token operator">|</span> cut <span class="token operator">-</span>b <span class="token number">11</span><span class="token operator">-</span><span class="token number">14</span> <span class="token operator">|</span> cut <span class="token operator">-</span>d \<span class="token operator">%</span> <span class="token operator">-</span>f <span class="token number">1</span>
 <span class="token number">14</span>
root@<span class="token constant">ROUTER</span><span class="token operator">:</span><span class="token operator">~</span># echo <span class="token string">"CPU:  busy 14%  (system=10% user=3% nice=0% idle=85%)"</span> <span class="token operator">|</span> cut <span class="token operator">-</span>b <span class="token number">11</span><span class="token operator">-</span><span class="token number">14</span> 
 <span class="token number">14</span><span class="token operator">%</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>-b</strong><br>.eg1：然后调用cut，即剪切字符串中的第2和第5个字节。</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">echo<span class="token string">"123abc"</span><span class="token operator">|</span>cut <span class="token operator">-</span>b <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>先输出123abc</p>
<p>输出为2b</p>
<p><strong>-c</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151027.png" alt=""></p>
<h3 id="变量的字符串替换"><a href="#变量的字符串替换" class="headerlink" title="变量的字符串替换"></a>变量的字符串替换</h3><p>想要将net的 baidu替换成google怎么写呢？只需<code>${net/baidu/google}</code>即可，需要注意的是原变量并未修改</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ echo ${net/baidu/google} #/匹配字符/替换字符
www.google.com
[Neptuneyt]$ echo $net  #原变量并未修改
www.baidu.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果是替换所有匹配到的字符，应该通过<code>${variable//pattern/sub}</code><br>例如将net的.替换为-或/：</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ echo ${net//./-}
www-baidu-com
[Neptuneyt]$ echo ${net//.//}
www/baidu/com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>除此之外，还有两种专门针对字符串开头和结尾的替换方式<br>只替换开头匹配的字符串<code>${variable/#pattern/sub}</code><br>只替换结尾匹配的字符串<code>${variable/%pattern/sub}</code><br>例如对于<code>add=www.xiaomi.com.www</code>的开头或者结尾的<code>www</code>替换为<code>-</code>：</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ add=www.xiaomi.com.www
[Neptuneyt]$ echo ${add/#www/-}
-.xiaomi.com.www
[Neptuneyt]$ echo ${add/%www/-}
www.xiaomi.com.-<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="删除字符串"><a href="#删除字符串" class="headerlink" title="删除字符串"></a>删除字符串</h3><p>其实学会了替换字符串删除字符串就更简单了，只需将替换部分写成空即可，即<code>${variable/pattern/null}</code>，例如将net的第一个.删除，只需</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ echo ${net/./}
wwwbaidu.com
[Neptuneyt]$ echo ${net/.}  #最后一个/可以不用写
wwwbaidu.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>若要删除所有匹配到的只需即<code>${variable//pattern}</code>，例如将<code>net</code>的.都删除，只需</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ echo ${net//.}
wwwbaiducom<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="变量为空时赋默认值"><a href="#变量为空时赋默认值" class="headerlink" title="变量为空时赋默认值"></a>变量为空时赋默认值</h3><p>当我们在写脚本时往往需要给脚本传递一些参数，在Shell中传递参数十分简单，只需利用特殊的位置参数变量诸如<code>$1,$2,$3...${10}...</code>即可，例如，以下脚本传递2个参数：</p>
<pre class="line-numbers language-none"><code class="language-none">## PassArgument.sh
##!/bin/env bash
## pass 2 arguments
arg1=$1
arg2=$2
echo $arg1 $arg2

[Neptuneyt]$ bash PassArgument.sh Hello word #参数以空格隔开
Hello word<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>有时候，我们想省掉最后一个参数，让它使用默认值，这个时候只需通过<code>${variable:='default value'}</code>即可，即当变量有值的时候则使用原值，若没有值则使用括号中默认定义好的值。例如，如下脚本表示当第二个参数为空时默认使用定义好的值“word”,否则是用户自己传递的参数：</p>
<pre class="line-numbers language-none"><code class="language-none">## PassArgument.sh
##!/bin/env bash
arg1=$1
arg2=$2
echo $arg1 ${arg2:='word'}  #第二个参数设置默认值

[Neptuneyt]$ bash PassArgument.sh Hello #第二个参数为空时使用默认值
Hello word
[Neptuneyt]$ bash PassArgument.sh Hello Shell   #第二个参数不为空时使用参数传递的值
Hello Shell<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>除了<code>${variable:='default value'}</code>外，还有<code>${variable:-'default value'}</code>,<code>${variable:+'default value'}</code>和<code>${variable:？'default value'}</code>，它们有什么区别呢？<br>对于<code>${variable:='default value'}</code>，表示变量为空时把默认值赋值给该变量，例如：</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ net=
[Neptuneyt]$ echo ${net:='www.baidu.com'}
www.baidu.com
[Neptuneyt]$ echo $net
www.baidu.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>对于<code>${variable:-'default value'}</code>,表示变量为空时返回默认值<strong>但是并不把默认值赋值给该变量</strong>， 例如：</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ net=
[Neptuneyt]$ echo ${net:-'www.baidu.com'}
www.baidu.com
[Neptuneyt]$ echo $net  #此时，变量依旧为空<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>对于<code>${variable:+'default value'}</code>,则表示变量不为空时，返回默认值，并且也不重新赋值，例如：</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ net=www.baidu.com
[Neptuneyt]$ echo ${net:+'www.google.com'}
www.google.com
[Neptuneyt]$ echo $net  #不改变变量原值
www.baidu.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>最后，对于<code>${variable:？'default value'}</code>,则表示当变量为空时，使用bash风格的报错，例如：</p>
<pre class="line-numbers language-none"><code class="language-none">[Neptuneyt]$ net=
[Neptuneyt]$ echo ${net:?'error:null value'}
-bash: net: error:null value<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h3><p>在 PHP 中，使用.即可连接两个字符串；<br>在 JavaScript 中，使用+即可将两个字符串合并为一个。<br>在 Shell 中你不需要使用任何运算符，将两个字符串并排放在一起就能实现拼接，非常简单粗暴。请看下面的例子：</p>
<pre class="line-numbers language-none"><code class="language-none">##!/bin/bash
name="Shell"
url="http://c.biancheng.net/shell/"
str1=$name$url  #中间不能有空格
str2="$name $url"  #如果被双引号包围，那么中间可以有空格
str3=$name": "$url  #中间可以出现别的字符串
str4="$name: $url"  #这样写也可以
str5="${name}Script: ${url}index.html"  #这个时候需要给变量名加上大括号
echo $str1
echo $str2
echo $str3
echo $str4
echo $str5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">运行结果：
Shellhttp://c.biancheng.net/shell/
Shell http://c.biancheng.net/shell/
Shell: http://c.biancheng.net/shell/
Shell: http://c.biancheng.net/shell/
ShellScript: http://c.biancheng.net/shell/index.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>对于第 7 行代码，$name 和 $url 之间之所以不能出现空格，是因为当字符串不被任何一种引号包围时，遇到空格就认为字符串结束了，空格后边的内容会作为其他变量或者命令解析，这一点在《Shell字符串》中已经提到。</p>
<p>对于第 10 行代码，加{ }是为了帮助解释器识别变量的边界，这一点在《Shell变量》中已经提到。</p>
<h3 id="单引号内引入变量"><a href="#单引号内引入变量" class="headerlink" title="单引号内引入变量"></a>单引号内引入变量</h3><p><strong>方法：单引号内嵌套单引号即可使用变量</strong></p>
<pre class="line-numbers language-none"><code class="language-none">##!/bin/bash

i=10
echo $i
echo '$i'
echo '$i is : '$i''

执行结果

## ./test.sh 
10
$i
$i is : 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="shell中判断两个字符串相等"><a href="#shell中判断两个字符串相等" class="headerlink" title="shell中判断两个字符串相等"></a>shell中判断两个字符串相等</h3><pre class="line-numbers language-none"><code class="language-none">##! /bin/bash

read -p "If you want to clean the trash?(y/n):" select
str=y

if [ "$select" = "y" ]
then
    rm -fr $HOME/.local/share/Trash/files/*
    echo "Deleted successfully!"
else
    echo "Undelete!"
fi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>注意的几点：</strong><br><strong>1、if和[ ]之间要空格。</strong></p>
<p><strong>2、[ ]和“ ”之间要空格</strong></p>
<p><strong>3、“ ”和=之间要空格，</strong></p>
<h3 id="实战：统计文章单词情况"><a href="#实战：统计文章单词情况" class="headerlink" title="实战：统计文章单词情况"></a>实战：统计文章单词情况</h3><p>这里想要统计Martin Luther King在1963年著名的<strong>I have a dream</strong>演讲中都使用了哪些词，哪些是高频词，单词字长如何。<br><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151123.png" alt=""><br>思路：<br>高频词统计：将所有单词单行输出，删除空行，删除<code>,./?</code>等非字母符号，用sort排序后使用uniq统计即可。<br>字长频数统计：将所有单词单行输出，删除空行，删除<code>,./?</code>等非字母符号，使用while循环遍历每个单词，使用<br></p><pre class="line-numbers language-none"><code class="language-none">${#variable} //统计单词长读频数。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p></p>
<pre class="line-numbers language-none"><code class="language-none">## 高频词统计
echo "高频词统计："
echo "频数" "单词"
tr " " "\n" &lt;IHaveADream.txt | \
##使用tr将空格转换成换行符，使得每行一个单词，\续行符表示一行命令未写完可换行书写，切记其后什么字符也不能接，包括空格和注释
sed -e "/[^a-Z]/d;/^$/d" | \
##使用sed匹配非字母字符和空行并删除：-e 表示执行多个操作； /[^a-Z]/，双斜线//表示匹配部分，^表示匹配除开后面a-Z的所有字符，d表示对前面匹配部分删除；/^$/表示匹配空行，^、$分别表示行首和行尾
sort |uniq -c |    \
##排序之后使用uniq统计，-c表示统计单词出现的次数
sort -nr | column -t|head #将次数最多的单词排在前面，-n表示按数值排序，-r从大到小倒序排，column -t表格式输出

## 字长频数统计
echo
echo "字长频数统计："
echo "频数" "单词长度"
tr " " "\n" &lt;IHaveADream.txt | \
sed -e "/[^a-Z]/d;/^$/d" | \
while read word
do
  echo ${#word}
done |\
## 用while和read每次读入一个单词，使用${#word}统计单词长度
sort |uniq -c|sort -nr|column -t|head<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151139.png" alt=""></p>
<h2 id="字符串切割"><a href="#字符串切割" class="headerlink" title="字符串切割"></a>字符串切割</h2><p>将用到字符串切割，即将字符串切割为一个数组<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010003835/article/details/80750003?spm=1001.2101.3001.6650.5&amp;depth_1-utm_relevant_index=10">原文链接</a></p>
<h3 id="利用shell-中-变量-的字符串替换"><a href="#利用shell-中-变量-的字符串替换" class="headerlink" title="利用shell 中 变量 的字符串替换"></a>利用shell 中 变量 的字符串替换</h3><p>原理：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable">${parameter<span class="token operator">/</span><span class="token operator">/</span>pattern<span class="token operator">/</span>string}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>用string来替换parameter变量中所有匹配的pattern</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##!/bin/bash</span>
 
<span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">"hello,shell,split,test"</span>  
<span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable">${string<span class="token operator">/</span><span class="token operator">/</span><span class="token operator">,</span><span class="token operator">/</span> }</span><span class="token punctuation">)</span>  
 
<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$var</span>
<span class="token keyword">done</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151159.png" alt=""></p>
<h3 id="设置分隔符，通过-IFS-变量"><a href="#设置分隔符，通过-IFS-变量" class="headerlink" title="设置分隔符，通过 IFS 变量"></a>设置分隔符，通过 IFS 变量</h3><p>原理</p>
<p>自定义IFS变量, 改变分隔符, 对字符串进行切分</p>
<p>IFS介绍<br> Shell 脚本中有个变量叫 IFS(Internal Field Seprator) ，内部域分隔符。完整定义是The shell uses the value stored in IFS, which is the space, tab, and newline characters by default, to delimit words for the read and set commands, when parsing output from command substitution, and when performing variable substitution.</p>
<pre><code> Shell 的环境变量分为 set, env 两种，其中 set 变量可以通过 export 工具导入到 env 变量中。其中，set 是显示设置shell变量，仅在本 shell 中有效；env 是显示设置用户环境变量 ，仅在当前会话中有效。换句话说，set 变量里包含了 env 变量，但 set 变量不一定都是 env 变量。这两种变量不同之处在于变量的作用域不同。显然，env 变量的作用域要大些，它可以在 subshell 中使用。

 而 IFS 是一种 set 变量，当 shell 处理"命令替换"和"参数替换"时，shell 根据 IFS 的值，默认是 space, tab, newline 来拆解读入的变量，然后对特殊字符进行处理，最后重新组合赋值给该变量。
</code></pre><p>IFS 简单实例</p>
<p>1、查看变量 IFS 的值。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$IFS</span>  
  
$ <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token environment constant">$IFS</span>"</span> <span class="token operator">|</span> od -b  
0000000 040 011 012 012  
0000004  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>直接输出IFS是看不到的，把它转化为二进制就可以看到了，”040”是空格，”011”是Tab，”012”是换行符”\n” 。最后一个 012 是因为 echo 默认是会换行的。</p>
<p><strong>示例：</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##!/bin/bash</span>
 
<span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">"hello,shell,split,test"</span>  
 
<span class="token comment">##对IFS变量 进行替换处理</span>
<span class="token assign-left variable">OLD_IFS</span><span class="token operator">=</span><span class="token string">"<span class="token environment constant">$IFS</span>"</span>
<span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">","</span>
<span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">)</span>
<span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">"<span class="token variable">$OLD_IFS</span>"</span>
 
<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$var</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151216.png" alt=""></p>
<h3 id="利用tr-指令实现字符替换"><a href="#利用tr-指令实现字符替换" class="headerlink" title="利用tr 指令实现字符替换"></a>利用tr 指令实现字符替换</h3><p>详细内容可自行查看</p>
<h2 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h2><h2 id="sed脚本命令"><a href="#sed脚本命令" class="headerlink" title="sed脚本命令"></a>sed脚本命令</h2><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/4028.html">原文链接</a><br><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151235.png" alt=""></p>
<h3 id="sed-s-替换脚本命令"><a href="#sed-s-替换脚本命令" class="headerlink" title="sed s 替换脚本命令"></a>sed s 替换脚本命令</h3><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151254.png" alt=""></p>
<h3 id="sed-d-替换脚本命令"><a href="#sed-d-替换脚本命令" class="headerlink" title="sed d 替换脚本命令"></a>sed d 替换脚本命令</h3><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151312.png" alt=""></p>
<h3 id="sed-a-和-i-脚本命令-（插入）"><a href="#sed-a-和-i-脚本命令-（插入）" class="headerlink" title="sed a 和 i 脚本命令 （插入）"></a>sed a 和 i 脚本命令 （插入）</h3><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151328.png" alt=""></p>
<h3 id="sed-c-替换"><a href="#sed-c-替换" class="headerlink" title="sed c 替换"></a>sed c 替换</h3><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151344.png" alt=""></p>
<h3 id="sed-y-转换"><a href="#sed-y-转换" class="headerlink" title="sed y 转换"></a>sed y 转换</h3><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151402.png" alt=""></p>
<h3 id="sed-w-文本指定内容写入文件"><a href="#sed-w-文本指定内容写入文件" class="headerlink" title="sed w 文本指定内容写入文件"></a>sed w 文本指定内容写入文件</h3><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151419.png" alt=""></p>
<h3 id="sed-p-搜索符号条件的行，并输出该行的内容"><a href="#sed-p-搜索符号条件的行，并输出该行的内容" class="headerlink" title="sed p 搜索符号条件的行，并输出该行的内容"></a>sed p 搜索符号条件的行，并输出该行的内容</h3><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151435.png" alt=""></p>
<h3 id="sed-r-将一个独立文件的数据插入到当前数据流的指定位置"><a href="#sed-r-将一个独立文件的数据插入到当前数据流的指定位置" class="headerlink" title="sed r 将一个独立文件的数据插入到当前数据流的指定位置"></a>sed r 将一个独立文件的数据插入到当前数据流的指定位置</h3><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151451.png" alt=""></p>
<h3 id="sed-q-使-sed-命令在第一次匹配任务结束后，退出-sed-程序，不再进行对后续数据的处理"><a href="#sed-q-使-sed-命令在第一次匹配任务结束后，退出-sed-程序，不再进行对后续数据的处理" class="headerlink" title="sed q 使 sed 命令在第一次匹配任务结束后，退出 sed 程序，不再进行对后续数据的处理"></a>sed q 使 sed 命令在第一次匹配任务结束后，退出 sed 程序，不再进行对后续数据的处理</h3><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151508.png" alt=""></p>
<h2 id="sed-address-寻址方式"><a href="#sed-address-寻址方式" class="headerlink" title="sed address 寻址方式"></a>sed address 寻址方式</h2><p><img src="https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img/20230522151525.png" alt=""></p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Jason Lin</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://gaofeng-lin.github.io/posts/20005/">https://gaofeng-lin.github.io/posts/20005/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint policy. If reproduced, please indicate source
                    <a href="/about" target="_blank">Jason Lin</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Linux/">
                                    <span class="chip bg-color">Linux</span>
                                </a>
                            
                                <a href="/tags/%E8%BF%90%E7%BB%B4/">
                                    <span class="chip bg-color">运维</span>
                                </a>
                            
                                <a href="/tags/sed/">
                                    <span class="chip bg-color">sed</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/62688/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/18.jpg" class="responsive-img" alt="Mysql">
                        
                        <span class="card-title">Mysql</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-03-06
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="post-category">
                                    数据库
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Linux/">
                        <span class="chip bg-color">Linux</span>
                    </a>
                    
                    <a href="/tags/%E8%BF%90%E7%BB%B4/">
                        <span class="chip bg-color">运维</span>
                    </a>
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                        <span class="chip bg-color">数据库</span>
                    </a>
                    
                    <a href="/tags/MySQL/">
                        <span class="chip bg-color">MySQL</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/56435/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="Golang">
                        
                        <span class="card-title">Golang</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-03-06
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" class="post-category">
                                    编程语言
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Golang/">
                        <span class="chip bg-color">Golang</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2024</span>
            
            <a href="/about" target="_blank">Jason Lin</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">167.2k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/gaofeng-lin" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:jason_gaofeng_lin@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
