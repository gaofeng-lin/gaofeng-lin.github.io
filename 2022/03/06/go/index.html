<!DOCTYPE html>
<html lang="en">
    <!-- title -->


    

<!-- keywords -->



<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="John Doe">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="John Doe">
    
        <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content="">
    <meta name="description" content="环境变量12go version  &#x2F;&#x2F;查看版本go env   &#x2F;&#x2F;查看环境变量   语法占位符原文链接输出为： 1234567&amp;#123;Aric 21 3-1&amp;#125;&amp;#123;Name:Aric Age:21 Class:3-1&amp;#125;main.Student&amp;#123;Name:&quot;Aric&quot;, Age:21, Class:&quot;3-1&quot;&amp;#12">
<meta property="og:type" content="article">
<meta property="og:title" content="Go">
<meta property="og:url" content="https://gaofeng-lin.github.io/2022/03/06/go/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="环境变量12go version  &#x2F;&#x2F;查看版本go env   &#x2F;&#x2F;查看环境变量   语法占位符原文链接输出为： 1234567&amp;#123;Aric 21 3-1&amp;#125;&amp;#123;Name:Aric Age:21 Class:3-1&amp;#125;main.Student&amp;#123;Name:&quot;Aric&quot;, Age:21, Class:&quot;3-1&quot;&amp;#12">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/1298ce4931252dd9582b2d7571ab97c4.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/566b6c8f51f9f93e95c631aac7e69778.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/1b607816b68645c5b5ceaebe1859abdc.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/ed775dff59f64772a5e4b0c1339e55d5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/b44bde0b2c634cac8c39987e26e035b1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="article:published_time" content="2022-03-05T16:00:00.000Z">
<meta property="article:modified_time" content="2022-04-08T15:38:22.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Go">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/img_convert/1298ce4931252dd9582b2d7571ab97c4.png#pic_center">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="/assets/favicon1.jpg">
    
    <title>Go · Gaofeng&#39;s Home</title>
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
    (function (w) {
        'use strict'
        // rel=preload support test
        if (!w.loadCSS) {
            w.loadCSS = function () {}
        }
        // define on the loadCSS obj
        var rp = (loadCSS.relpreload = {})
        // rel=preload feature support test
        // runs once and returns a function for compat purposes
        rp.support = (function () {
            var ret
            try {
                ret = w.document.createElement('link').relList.supports('preload')
            } catch (e) {
                ret = false
            }
            return function () {
                return ret
            }
        })()

        // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
        // then change that media back to its intended value on load
        rp.bindMediaToggle = function (link) {
            // remember existing media attr for ultimate state, or default to 'all'
            var finalMedia = link.media || 'all'

            function enableStylesheet() {
                link.media = finalMedia
            }

            // bind load handlers to enable media
            if (link.addEventListener) {
                link.addEventListener('load', enableStylesheet)
            } else if (link.attachEvent) {
                link.attachEvent('onload', enableStylesheet)
            }

            // Set rel and non-applicable media type to start an async request
            // note: timeout allows this to happen async to let rendering continue in IE
            setTimeout(function () {
                link.rel = 'stylesheet'
                link.media = 'only x'
            })
            // also enable media after 3 seconds,
            // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
            setTimeout(enableStylesheet, 3000)
        }

        // loop through link elements in DOM
        rp.poly = function () {
            // double check this to prevent external calls from running
            if (rp.support()) {
                return
            }
            var links = w.document.getElementsByTagName('link')
            for (var i = 0; i < links.length; i++) {
                var link = links[i]
                // qualify links to those with rel=preload and as=style attrs
                if (
                    link.rel === 'preload' &&
                    link.getAttribute('as') === 'style' &&
                    !link.getAttribute('data-loadcss')
                ) {
                    // prevent rerunning on link
                    link.setAttribute('data-loadcss', true)
                    // bind listeners to toggle media back
                    rp.bindMediaToggle(link)
                }
            }
        }

        // if unsupported, run the polyfill
        if (!rp.support()) {
            // run once at least
            rp.poly()

            // rerun poly on an interval until onload
            var run = w.setInterval(rp.poly, 500)
            if (w.addEventListener) {
                w.addEventListener('load', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            } else if (w.attachEvent) {
                w.attachEvent('onload', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            }
        }

        // commonjs
        if (typeof exports !== 'undefined') {
            exports.loadCSS = loadCSS
        } else {
            w.loadCSS = loadCSS
        }
    })(typeof global !== 'undefined' ? global : this)
</script>

    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }
</style>

    <link rel="preload" href="/css/style.css?v=20211217" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="/css/dark.css?v=20211217" as="style">
    <link rel="stylesheet" href="/css/dark.css">
    <link rel="stylesheet" href="/css/mobile.css?v=20211217" media="(max-width: 960px)">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" as="script">
    <link rel="preload" href="/scripts/main.js?v=20211217" as="script">
    <link rel="preload" href="/scripts/dark.js?v=20211217" as="script">
    <link rel="preload" href="/font/Oswald-Regular.ttf" as="font" crossorigin>
    <link rel="preload" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" as="font" crossorigin>
    <!-- algolia -->
    
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
<meta name="generator" content="Hexo 6.1.0"></head>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ == undefined) {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js" />')
        }
    </script>
    
        <body class="post-body">
    
        <!-- header -->
        <header class="header header-mobile">
    <!-- top read progress line -->
    <div class="header-element">
        <div class="read-progress"></div>
    </div>
    <!-- sidebar menu button -->
    <div class="header-element">
        
            <div class="header-sidebar-menu">
        
            
                <div style="padding-left: 1px;">&#xe775;</div>
            
        </div>
    </div>
    <!-- header actions -->
    <div class="header-actions">
        <!-- theme mode switch button -->
        <span class="header-theme-btn header-element">
            <i class="fas fa-adjust"></i>
        </span>
        <!-- back to home page text -->
        <span class="home-link header-element">
            <a href=/>Gaofeng's Home.</a>
        </span>
    </div>
    <!-- toggle banner for post layout -->
    
        
            <div class="banner">
        
            <div class="blog-title header-element">
                <a href="/">Gaofeng&#39;s Home.</a>
            </div>
            <div class="post-title header-element">
                <a href="#" class="post-name">Go</a>
            </div>
        </div>
    
</header>

        <!-- fixed footer -->
        <footer class="footer-fixed">
    <!-- back to top button -->
    <div class="footer-fixed-element">
        
            <div class="back-top back-top-hidden">
        
        
            <div>&#xe639;</div>
        
        </div>
    </div>
</footer>

        <!-- wrapper -->
        <div class="wrapper">
            <div class="site-intro" style="







    height:50vh;

">
    
    <!-- 主页  -->
    
        
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
                Go
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
                
            <!-- 404 -->
            
        </p>
        <!-- 文章页 meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
    
        <a class="post-tag" href="javascript:void(0);" data-tags="Go">Go</a>
    
</div>

                
                
                    <div class="post-intro-read">
                        <span>Word count: <span class="post-count word-count">7.3k</span>Reading time: <span class="post-count reading-time">34 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <!-- 撰写日期 -->
                    <span class="iconfont-archer post-intro-calander">&#xe676;</span>
                    <span class="post-intro-time">2022/03/06</span>
                    <!-- busuanzi -->
                    
                        <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                            <span class="iconfont-archer post-intro-busuanzi">&#xe602;</span>
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    
                    <!-- 文章分享 -->
                    <span class="share-wrapper">
                        <span class="iconfont-archer share-icon">&#xe71d;</span>
                        <span class="share-text">Share</span>
                        <ul class="share-list">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>

            <script>
  // get user agent
  function getBrowserVersions() {
    var u = window.navigator.userAgent
    return {
      userAgent: u,
      trident: u.indexOf('Trident') > -1, //IE内核
      presto: u.indexOf('Presto') > -1, //opera内核
      webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
      ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
      android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
      iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
      iPad: u.indexOf('iPad') > -1, //是否为iPad
      webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
      weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
      uc: u.indexOf('UCBrowser') > -1, //是否为android下的UC浏览器
    }
  }
  var browser = {
    versions: getBrowserVersions(),
  }
  console.log('userAgent: ' + browser.versions.userAgent)

  // callback
  function fontLoaded() {
    console.log('font loaded')
    if (document.getElementsByClassName('site-intro-meta')) {
      document
        .getElementsByClassName('intro-title')[0]
        .classList.add('intro-fade-in')
      document
        .getElementsByClassName('intro-subtitle')[0]
        .classList.add('intro-fade-in')
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in')
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb() {
    if (browser.versions.uc) {
      console.log('UCBrowser')
      fontLoaded()
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular'],
        },
        loading: function () {
          // 所有字体开始加载
          // console.log('font loading');
        },
        active: function () {
          // 所有字体已渲染
          fontLoaded()
        },
        inactive: function () {
          // 字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout')
          fontLoaded()
        },
        timeout: 5000, // Set the timeout to two seconds
      })
    }
  }

  function asyncErr() {
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0]
    o.src = u
    if (cb) {
      o.addEventListener(
        'load',
        function (e) {
          cb(null, e)
        },
        false
      )
    }
    if (err) {
      o.addEventListener(
        'error',
        function (e) {
          err(null, e)
        },
        false
      )
    }
    s.parentNode.insertBefore(o, s)
  }

  var asyncLoadWithFallBack = function (arr, success, reject) {
    var currReject = function () {
      reject()
      arr.shift()
      if (arr.length) async(arr[0], success, currReject)
    }

    async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack(
    [
      'https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js',
      'https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js',
      "/lib/webfontloader.min.js",
    ],
    asyncCb,
    asyncErr
  )
</script>

            <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
            <div class="container container-unloaded">
                <main class="main post-page">
    <article class="article-entry">
        <h1 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go version  //查看版本</span><br><span class="line">go env   //查看环境变量</span><br></pre></td></tr></table></figure>


<h1 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h1><h2 id="占位符"><a href="#占位符" class="headerlink" title="占位符"></a>占位符</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/139758275">原文链接</a><br><img src="https://img-blog.csdnimg.cn/img_convert/1298ce4931252dd9582b2d7571ab97c4.png#pic_center" alt="在这里插入图片描述"><br>输出为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;Aric 21 3-1&#125;</span><br><span class="line">&#123;Name:Aric Age:21 Class:3-1&#125;</span><br><span class="line">main.Student&#123;Name:&quot;Aric&quot;, Age:21, Class:&quot;3-1&quot;&#125;</span><br><span class="line">main.Student</span><br><span class="line">676f6c616e67</span><br><span class="line">676F6C616E67</span><br><span class="line">0xc000062150</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/img_convert/566b6c8f51f9f93e95c631aac7e69778.png#pic_center" alt="在这里插入图片描述"></p>
<h2 id="下划线-“-”"><a href="#下划线-“-”" class="headerlink" title="下划线  “_”"></a>下划线  “_”</h2><p>“_”是特殊标识符，用来忽略结果。</p>
<p><strong>1.下划线在import中</strong></p>
<p>在Golang里，import的作用是导入其他package。<br>　　 import 下划线（如：import _ hello&#x2F;imp）的作用：当导入一个包时，该包下的文件里所有init()函数都会被执行，然而，有些时候我们并不需要把整个包都导入进来，仅仅是是希望它执行init()函数而已。这个时候就可以使用 import _ 引用该包。即使用【import _ 包路径】只是引用该包，仅仅是为了调用init()函数，所以无法通过包名来调用包中的其他函数。<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">src </span><br><span class="line">|</span><br><span class="line">+--- main.go            </span><br><span class="line">|</span><br><span class="line">+--- hello</span><br><span class="line">       |</span><br><span class="line">       +--- hello.go</span><br></pre></td></tr></table></figure>
<p>main.go</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import _ &quot;./hello&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    // hello.Print() </span><br><span class="line">    //编译报错：./main.go:6:5: undefined: hello</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>hello.go</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package hello</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func init() &#123;</span><br><span class="line">    fmt.Println(&quot;imp-init() come here.&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Print() &#123;</span><br><span class="line">    fmt.Println(&quot;Hello!&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imp-init() come here.</span><br></pre></td></tr></table></figure>
<p><strong>2.下划线在代码中</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    buf := make([]byte, 1024)</span><br><span class="line">    f, _ := os.Open(&quot;/Users/***/Desktop/text.txt&quot;)</span><br><span class="line">    defer f.Close()</span><br><span class="line">    for &#123;</span><br><span class="line">        n, _ := f.Read(buf)</span><br><span class="line">        if n == 0 &#123;</span><br><span class="line">            break    </span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        os.Stdout.Write(buf[:n])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解释1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">下划线意思是忽略这个变量.</span><br><span class="line"></span><br><span class="line">比如os.Open，返回值为*os.File，error</span><br><span class="line"></span><br><span class="line">普通写法是f,err := os.Open(&quot;xxxxxxx&quot;)</span><br><span class="line"></span><br><span class="line">如果此时不需要知道返回的错误值</span><br><span class="line"></span><br><span class="line">就可以用f, _ := os.Open(&quot;xxxxxx&quot;)</span><br><span class="line"></span><br><span class="line">如此则忽略了error变量</span><br></pre></td></tr></table></figure>
<p>解释2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">占位符，意思是那个位置本应赋给某个值，但是咱们不需要这个值。</span><br><span class="line">所以就把该值赋给下划线，意思是丢掉不要。</span><br><span class="line">这样编译器可以更好的优化，任何类型的单个值都可以丢给下划线。</span><br><span class="line">这种情况是占位用的，方法返回两个结果，而你只想要一个结果。</span><br><span class="line">那另一个就用 &quot;_&quot; 占位，而如果用变量的话，不使用，编译器是会报错的。</span><br></pre></td></tr></table></figure>
<p>补充：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &quot;database/sql&quot;</span><br><span class="line">import _ &quot;github.com/go-sql-driver/mysql&quot;</span><br></pre></td></tr></table></figure>
<p>第二个import就是不直接使用mysql包，只是执行一下这个包的init函数，把mysql的驱动注册到sql包里，然后程序里就可以使用sql包来访问mysql数据库了。</p>
<h2 id="x3D-和-x3D-的区别"><a href="#x3D-和-x3D-的区别" class="headerlink" title="&#x3D; 和 :&#x3D;的区别"></a>&#x3D; 和 :&#x3D;的区别</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// = 使用必须使用先var声明例如：</span><br><span class="line">var a</span><br><span class="line">a=100</span><br><span class="line">//或</span><br><span class="line">var b = 100</span><br><span class="line">//或</span><br><span class="line">var c int = 100</span><br><span class="line"> </span><br><span class="line">// := 是声明并赋值，并且系统自动推断类型，不需要var关键字</span><br><span class="line">d := 100</span><br></pre></td></tr></table></figure>

<h2 id="String-方法"><a href="#String-方法" class="headerlink" title="String()方法"></a>String()方法</h2><p>对于定于了String()方法的类型，默认输出的时候会调用该方法，实现字符串的打印。例如下面代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"> </span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"> </span><br><span class="line">type Man struct &#123;</span><br><span class="line">    name string</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">func (m Man) String() string &#123;</span><br><span class="line">    return &quot;My name is :&quot; + m.name</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">func main() &#123;</span><br><span class="line">    var m Man</span><br><span class="line">    m.name = &quot;SNS&quot;</span><br><span class="line">    fmt.Println(m)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">输出：</span><br><span class="line">My name is :SNS</span><br></pre></td></tr></table></figure>
<p><strong>使用指针</strong><br>然而，如果使用func (m *Man) String() string方式定义函数，那么就不会自动调用该函数输出（go version go1.12.1 windows&#x2F;amd64）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"> </span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"> </span><br><span class="line">type Man struct &#123;</span><br><span class="line">    name string</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">func (m *Man) String() string &#123;</span><br><span class="line">    return &quot;My name is :&quot; + m.name</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">func main() &#123;</span><br><span class="line">    var m Man</span><br><span class="line">    m.name = &quot;SNS&quot;</span><br><span class="line">    fmt.Println(m)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">输出:</span><br><span class="line">&#123;SNS&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>String方法是接口方法，存在于fmt包里print.go文件下的Stringer接口。go使用fmt包的输出方法会自动调用String()方法。当重写的String是指针方法时，只有指针类型调用的时候才会正常调用，值类型调用的时候实际上没有执行重写的String方法；当重写的String方法是值方法时，无论指针类型和值类型均可调用重写的String方法。其实跟接口的实现有关，当值类型实现接口的时候，相当于值类型和该值的指针类型均实现了该接口；相反，当指针类型实现了该接口的时候，只有指针类型实现了接口，值类型是没有实现的。</p>
</blockquote>
<blockquote>
<p>最后一句改成<code>fmt.Println(&amp;m)</code><br>因为你只为<code>*Man</code>这个Man的指针类型重新定义了String()方法，所以只有在输出<code>*Man</code>类型的数据时才会调用自定义的String()方法。<br>而你定义的m是Man类型的，所以才不会调用你定义的String方法。<br>所要么向楼上那位一样定义<em>Man类型。要么就是在输出时，向Print函数传递</em>Man类型的数据(改成<code>fmt.Println(&amp;m)</code>)</p>
</blockquote>
<h2 id="方法接受者"><a href="#方法接受者" class="headerlink" title="方法接受者"></a>方法接受者</h2><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/316617954070">原文链接</a><br>在go语言中，没有类的概念但是可以给类型（结构体，自定义类型）定义方法。所谓方法就是定义了接受者的函数。接受者定义在func关键字和函数名之间:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">type Person struct &#123;</span><br><span class="line">    name string</span><br><span class="line">    age int</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func (p Person) say() &#123;</span><br><span class="line">    fmt.Printf(&quot;I&#x27;m %s,%d years old\n&quot;,p.name,p.age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>有了对方法及接受者的简单认识之后，接下来主要谈一下接受者的类型问题。<br>接受者类型可以是struct,也可以是指向struc的指针。<br><strong>情况一：接受者是struct</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">type Person struct &#123;</span><br><span class="line">name string</span><br><span class="line">age int</span><br><span class="line">&#125;</span><br><span class="line">func (p Person) say() &#123;</span><br><span class="line">fmt.Printf(&quot;I&#x27;m %s,%d years old\n&quot;,p.name,p.age)</span><br><span class="line">&#125;</span><br><span class="line">func (p Person) older()&#123;</span><br><span class="line">    p.age = p.age +1</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">    var p1 Person = Person&#123;&quot;zhansan&quot;,16&#125;</span><br><span class="line">    p1.older()</span><br><span class="line">    p1.say()</span><br><span class="line">    //output: I&#x27;m zhangsan，16 years old</span><br><span class="line">    var p2 *Person = &amp;Person&#123;&quot;lisi&quot;,17&#125;</span><br><span class="line">    p2.older()</span><br><span class="line">    p2.say()</span><br><span class="line">    //output: I&#x27;m lisi，17 years old</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于p1的调用，读者应该不会有什么疑问。<br>对于p2的调用可能存在这样的疑问，p2明明是个指针，为什么再调用了older方法之后，打印结果还是17 years old?<br>方法的接受者是Person而调用者是*Person ，其实在p2调用时存在一个转换p2.older() -&gt; *p2.older(); p2.say() -&gt; *p2.say()<br>*p2是什么想必读者也是明白的（就一个p2指向Person实例）。那么疑问也就自然的解开了,方法执行时的接受者实际上还是一个值而非引用。</p>
<p><strong>情况二：接受者是指针</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">type Person struct &#123;</span><br><span class="line">name string</span><br><span class="line">age int</span><br><span class="line">&#125;</span><br><span class="line">func (p *Person) say() &#123;</span><br><span class="line">fmt.Printf(&quot;I&#x27;m %s,%d years old\n&quot;,p.name,p.age)</span><br><span class="line">&#125;</span><br><span class="line">func (p *Person) older()&#123;</span><br><span class="line">    p.age = p.age +1</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">    var p1 Person = Person&#123;&quot;zhansan&quot;,16&#125;</span><br><span class="line">    p1.older()</span><br><span class="line">    p1.say()</span><br><span class="line">    //output: I&#x27;m zhangsan，17 years old</span><br><span class="line">    var p2 *Person = &amp;Person&#123;&quot;lisi&quot;,17&#125;</span><br><span class="line">    p2.older()</span><br><span class="line">    p2.say()</span><br><span class="line">    //output: I&#x27;m lisi，18 years old</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>p1的调用中也存在一个转换，<br>p1.older -&gt; *p1.older<br>p1.say() -&gt; *p1.say()</p>
<p><strong>用例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">//面向对象</span><br><span class="line">//go仅支持封装，不支持继承和多态</span><br><span class="line">//go语言中没有class，只要struct</span><br><span class="line">//不论地址还是结构本身，一律使用.来访问成员</span><br><span class="line">//要改变内容必须使用指针接收者</span><br><span class="line">//结构过大考虑指针接收者</span><br><span class="line">//值接收者是go语言特有</span><br><span class="line">//封装</span><br><span class="line">//名字一般使用CamelCase</span><br><span class="line">//首字母大写： public</span><br><span class="line">//首字母小写：private</span><br><span class="line"></span><br><span class="line">//包</span><br><span class="line">//每个目录一个包，包名可以与目录不一样</span><br><span class="line">//main包包含可执行入口，只有一个main包</span><br><span class="line">//为结构定义的方法必须放在同一个包内，但是可以是不同文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">type treeNode struct &#123;</span><br><span class="line">    value int</span><br><span class="line">    left, right *treeNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func (node treeNode) print() &#123;  //显示定义和命名方法接收者（括号里）</span><br><span class="line"></span><br><span class="line">    fmt.Print(node.value)  //只有使用指针才可以改变结构内容</span><br><span class="line">    fmt.Println()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func (node *treeNode) setValue ( value int) &#123;  //使用指针作为方法接收者</span><br><span class="line">    if node == nil &#123;</span><br><span class="line">        fmt.Println(&quot;setting value to nil node&quot;) //nil指针也可以调用方法</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    node.value = value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func (node *treeNode ) traverse()&#123;</span><br><span class="line">    if node == nil&#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    node.left.traverse()</span><br><span class="line">    node.print()</span><br><span class="line">    node.right.traverse()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    var  root  treeNode</span><br><span class="line">    fmt.Println(root)  //&#123;0 &lt;nil&gt; &lt;nil&gt;&#125;</span><br><span class="line"></span><br><span class="line">    root = treeNode&#123;value:3&#125;</span><br><span class="line">    root.left = &amp;treeNode&#123;&#125;</span><br><span class="line">    root.right = &amp;treeNode&#123;5,nil,nil&#125;</span><br><span class="line">    root.right.left = new(treeNode)</span><br><span class="line"></span><br><span class="line">    nodes := []treeNode &#123;</span><br><span class="line">        &#123;value: 3&#125;,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">        &#123;6,nil,&amp;root&#125;,</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(nodes)  //[&#123;3 &lt;nil&gt; &lt;nil&gt;&#125; &#123;0 &lt;nil&gt; &lt;nil&gt;&#125; &#123;6 &lt;nil&gt; 0xc04205a3e0&#125;]</span><br><span class="line"></span><br><span class="line">    root.print()  // 3</span><br><span class="line">    fmt.Println()</span><br><span class="line">    root.right.left.setValue(100)</span><br><span class="line">    root.right.left.print()  //100</span><br><span class="line">    fmt.Println()</span><br><span class="line"></span><br><span class="line">    var pRoot *treeNode</span><br><span class="line">    pRoot.setValue(200)   //setting value to nil node</span><br><span class="line">    pRoot = &amp;root</span><br><span class="line">    pRoot.setValue(300)</span><br><span class="line">    pRoot.print()  //300</span><br><span class="line"></span><br><span class="line">    root.traverse()  //300 0 300 100 5</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="结构体定义中的-json-单引号（-96-96-）"><a href="#结构体定义中的-json-单引号（-96-96-）" class="headerlink" title="结构体定义中的 json 单引号（&#96;&#96;）"></a>结构体定义中的 json 单引号（&#96;&#96;）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;encoding/json&quot;</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">//在处理json格式字符串的时候，经常会看到声明struct结构的时候，属性的右侧还有小米点括起来的内容。`TAB键左上角的按键，～线同一个键盘`</span><br><span class="line"></span><br><span class="line">type Student struct &#123;</span><br><span class="line">    StudentId      string `json:&quot;sid&quot;`</span><br><span class="line">    StudentName    string `json:&quot;sname&quot;`</span><br><span class="line">    StudentClass   string `json:&quot;class&quot;`</span><br><span class="line">    StudentTeacher string `json:&quot;teacher&quot;`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type StudentNoJson struct &#123;</span><br><span class="line">    StudentId      string</span><br><span class="line">    StudentName    string</span><br><span class="line">    StudentClass   string</span><br><span class="line">    StudentTeacher string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//可以选择的控制字段有三种：</span><br><span class="line">// -：不要解析这个字段</span><br><span class="line">// omitempty：当字段为空（默认值）时，不要解析这个字段。比如 false、0、nil、长度为 0 的 array，map，slice，string</span><br><span class="line">// FieldName：当解析 json 的时候，使用这个名字</span><br><span class="line">type StudentWithOption struct &#123;</span><br><span class="line">    StudentId      string //默认使用原定义中的值</span><br><span class="line">    StudentName    string `json:&quot;sname&quot;`           // 解析（encode/decode） 的时候，使用 `sname`，而不是 `Field`</span><br><span class="line">    StudentClass   string `json:&quot;class,omitempty&quot;` // 解析的时候使用 `class`，如果struct 中这个值为空，就忽略它</span><br><span class="line">    StudentTeacher string `json:&quot;-&quot;`               // 解析的时候忽略该字段。默认情况下会解析这个字段，因为它是大写字母开头的</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    //NO.1 with json struct tag</span><br><span class="line">    s := &amp;Student&#123;StudentId: &quot;1&quot;, StudentName: &quot;fengxm&quot;, StudentClass: &quot;0903&quot;, StudentTeacher: &quot;feng&quot;&#125;</span><br><span class="line">    jsonString, _ := json.Marshal(s)</span><br><span class="line"></span><br><span class="line">    fmt.Println(string(jsonString))</span><br><span class="line">    //&#123;&quot;sid&quot;:&quot;1&quot;,&quot;sname&quot;:&quot;fengxm&quot;,&quot;class&quot;:&quot;0903&quot;,&quot;teacher&quot;:&quot;feng&quot;&#125;</span><br><span class="line">    newStudent := new(Student)</span><br><span class="line">    json.Unmarshal(jsonString, newStudent)</span><br><span class="line">    fmt.Println(newStudent)</span><br><span class="line">    //&amp;&#123;1 fengxm 0903 feng&#125;</span><br><span class="line">    //Unmarshal 是怎么找到结构体中对应的值呢？比如给定一个 JSON key Filed，它是这样查找的：</span><br><span class="line">    // 首先查找 tag 名字（关于 JSON tag 的解释参看下一节）为 Field 的字段</span><br><span class="line">    // 然后查找名字为 Field 的字段</span><br><span class="line">    // 最后再找名字为 FiElD 等大小写不敏感的匹配字段。</span><br><span class="line">    // 如果都没有找到，就直接忽略这个 key，也不会报错。这对于要从众多数据中只选择部分来使用非常方便。</span><br><span class="line"></span><br><span class="line">    //NO.2 without json struct tag</span><br><span class="line">    so := &amp;StudentNoJson&#123;StudentId: &quot;1&quot;, StudentName: &quot;fengxm&quot;, StudentClass: &quot;0903&quot;, StudentTeacher: &quot;feng&quot;&#125;</span><br><span class="line">    jsonStringO, _ := json.Marshal(so)</span><br><span class="line"></span><br><span class="line">    fmt.Println(string(jsonStringO))</span><br><span class="line">    //&#123;&quot;StudentId&quot;:&quot;1&quot;,&quot;StudentName&quot;:&quot;fengxm&quot;,&quot;StudentClass&quot;:&quot;0903&quot;,&quot;StudentTeacher&quot;:&quot;feng&quot;&#125;</span><br><span class="line"></span><br><span class="line">    //NO.3 StudentWithOption</span><br><span class="line">    studentWO := new(StudentWithOption)</span><br><span class="line">    js, _ := json.Marshal(studentWO)</span><br><span class="line"></span><br><span class="line">    fmt.Println(string(js))</span><br><span class="line">    //&#123;&quot;StudentId&quot;:&quot;&quot;,&quot;sname&quot;:&quot;&quot;&#125;</span><br><span class="line"></span><br><span class="line">    studentWO2 := &amp;StudentWithOption&#123;StudentId: &quot;1&quot;, StudentName: &quot;fengxm&quot;, StudentClass: &quot;0903&quot;, StudentTeacher: &quot;feng&quot;&#125;</span><br><span class="line">    js2, _ := json.Marshal(studentWO2)</span><br><span class="line"></span><br><span class="line">    fmt.Println(string(js2))</span><br><span class="line">    //&#123;&quot;StudentId&quot;:&quot;1&quot;,&quot;sname&quot;:&quot;fengxm&quot;,&quot;class&quot;:&quot;0903&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h1><h2 id="判断变量类型"><a href="#判断变量类型" class="headerlink" title="判断变量类型"></a>判断变量类型</h2><p>方法一：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line"> &quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">        v1 := &quot;123456&quot;</span><br><span class="line">        v2 := 12</span><br><span class="line"></span><br><span class="line">        fmt.Printf(&quot;v1 type:%T\n&quot;, v1)</span><br><span class="line">        fmt.Printf(&quot;v2 type:%T\n&quot;, v2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>方法二：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line"> &quot;fmt&quot;</span><br><span class="line"> &quot;reflect&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">        v1 := &quot;123456&quot;</span><br><span class="line">        v2 := 12</span><br><span class="line"></span><br><span class="line">        // reflect</span><br><span class="line">        fmt.Println(&quot;v1 type:&quot;, reflect.TypeOf(v1))</span><br><span class="line">        fmt.Println(&quot;v2 type:&quot;, reflect.TypeOf(v2))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="解析json文件"><a href="#解析json文件" class="headerlink" title="解析json文件"></a>解析json文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	// &quot;bytes&quot;</span><br><span class="line">	&quot;encoding/json&quot;</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;io/ioutil&quot;</span><br><span class="line">	// &quot;reflect&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func con_var_name (key string) string &#123;</span><br><span class="line">	var res string</span><br><span class="line">	bytes,_:=ioutil.ReadFile(&quot;C:/Users/76585/Desktop/para_compare_ver2.json&quot;)</span><br><span class="line"></span><br><span class="line">	m :=make(map[string]interface&#123;&#125;)</span><br><span class="line">	err := json.Unmarshal([]byte(bytes),&amp;m)</span><br><span class="line"></span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		fmt.Println(&quot;err=&quot;,err)</span><br><span class="line">		return &quot;&quot;</span><br><span class="line">	&#125;</span><br><span class="line">	for _, value :=range m&#123;</span><br><span class="line">		// fmt.Println(reflect.TypeOf(value.([]interface&#123;&#125;)[1].(map[string]interface&#123;&#125;)[&quot;name&quot;]))	</span><br><span class="line">		if key==value.([]interface&#123;&#125;)[0].(map[string]interface&#123;&#125;)[&quot;name&quot;]&#123;</span><br><span class="line">			res=key</span><br><span class="line">			return res</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		if key==value.([]interface&#123;&#125;)[1].(map[string]interface&#123;&#125;)[&quot;name&quot;]&#123;</span><br><span class="line">			tmp :=value.([]interface&#123;&#125;)[0].(map[string]interface&#123;&#125;)[&quot;name&quot;]</span><br><span class="line">			res=tmp.(string)</span><br><span class="line">			return res</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	res=key</span><br><span class="line"></span><br><span class="line">	return res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="解析json文件，interface转int"><a href="#解析json文件，interface转int" class="headerlink" title="解析json文件，interface转int"></a>解析json文件，interface转int</h2><p><strong>因为json解析得到的数据是map[string]interface，里面的字段可能是数字，有时候需要取出来比较，<br>就需要将interface转为int。</strong><br><img src="https://img-blog.csdnimg.cn/1b607816b68645c5b5ceaebe1859abdc.png" alt="在这里插入图片描述"><br>需要先转为string，在用 <code>strconv.Atoi</code>，将string转为int。</p>
<h2 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">​</span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;strings&quot;</span><br><span class="line">)</span><br><span class="line">​</span><br><span class="line">func main() &#123;</span><br><span class="line">    s := &quot;smallming&quot;</span><br><span class="line">    //第一次出现的索引</span><br><span class="line">    fmt.Println(strings.Index(s, &quot;l&quot;))</span><br><span class="line">    //最后一次出现的索引</span><br><span class="line">    fmt.Println(strings.LastIndex(s, &quot;l&quot;))</span><br><span class="line">    //是否以指定内容开头</span><br><span class="line">    fmt.Println(strings.HasPrefix(s, &quot;small&quot;))</span><br><span class="line">    //是否以指定内容结尾</span><br><span class="line">    fmt.Println(strings.HasSuffix(s, &quot;ming&quot;))</span><br><span class="line">    //是否包含指定字符串</span><br><span class="line">    fmt.Println(strings.Contains(s, &quot;mi&quot;))</span><br><span class="line">    //全变小写</span><br><span class="line">    fmt.Println(strings.ToLower(s))</span><br><span class="line">    //全大写</span><br><span class="line">    fmt.Println(strings.ToUpper(s))</span><br><span class="line">    //把字符串中前n个old子字符串替换成new字符串,如果n小于0表示全部替换.</span><br><span class="line">    //如果n大于old个数也表示全部替换</span><br><span class="line">    fmt.Println(strings.Replace(s, &quot;m&quot;, &quot;k&quot;, -1))</span><br><span class="line">    //把字符串重复count遍</span><br><span class="line">    fmt.Println(strings.Repeat(s, 2))</span><br><span class="line">    //去掉字符串前后指定字符</span><br><span class="line">    fmt.Println(strings.Trim(s, &quot; &quot;)) //去空格可以使用strings.TrimSpace(s)</span><br><span class="line">    //根据指定字符把字符串拆分成切片</span><br><span class="line">    fmt.Println(strings.Split(s, &quot;m&quot;))</span><br><span class="line">    //使用指定分隔符把切片内容合并成字符串</span><br><span class="line">    arr := []string&#123;&quot;small&quot;, &quot;ming&quot;&#125;</span><br><span class="line">    fmt.Println(strings.Join(arr, &quot;&quot;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><h3 id="常用的元字符："><a href="#常用的元字符：" class="headerlink" title="常用的元字符："></a>常用的元字符：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">. 匹配除换行符以外的任意字符</span><br><span class="line"></span><br><span class="line">\w 匹配字母或数字或下划线或汉字</span><br><span class="line"></span><br><span class="line">\s 匹配任意的空白符</span><br><span class="line"></span><br><span class="line">\d 匹配数字</span><br><span class="line"></span><br><span class="line">\b 匹配单词的开始或结束</span><br><span class="line"></span><br><span class="line">^ 匹配字符串的开始</span><br><span class="line"></span><br><span class="line">$ 匹配字符串的结束</span><br></pre></td></tr></table></figure>
<p>字符转义：</p>
<p>如果你想查找元字符本身的话，比如你查找.,或者*,就出现了问题：你没办法指定它们，因为它们会被解释成别的意思。这时你就得使用\来取消这些字符的特殊意义。因此，你应该使用.和*。当然，要查找\本身，你也得用\。</p>
<h3 id="重复"><a href="#重复" class="headerlink" title="重复"></a>重复</h3><p><img src="https://img-blog.csdnimg.cn/ed775dff59f64772a5e4b0c1339e55d5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>如果你想匹配没有预定义元字符的字符集合(比如元音字母a,e,i,o,u),应该怎么办？</p>
<p>很简单，你只需要在方括号里列出它们就行了，像[aeiou]就匹配任何一个英文元音字母，[.?!]匹配标点符号(.或?或!)。</p>
<p><strong>分枝条件：</strong></p>
<p>正则表达式里的分枝条件指的是有几种规则，如果满足其中任意一种规则都应该当成匹配，具体方法是用 “|”  把不同的规则分隔开。</p>
<p><strong>分组：</strong></p>
<p>重复单个字符（直接在字符后面加上限定符就行了）；但如果想要重复多个字符又该怎么办？你可以用小括号来指定子表达式(也叫做分组)，然后你就可以指定这个子表达式的重复次数了，你也可以对子表达式进行其它一些操作。</p>
<h3 id="反义字符"><a href="#反义字符" class="headerlink" title="反义字符"></a>反义字符</h3><p><img src="https://img-blog.csdnimg.cn/b44bde0b2c634cac8c39987e26e035b1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>例子：\S+匹配不包含空白符的字符串。</p>
<p>&lt;a[^&gt;]+&gt;匹配用尖括号括起来的以a开头的字符串。</p>
<h3 id="常用的正则表达式函数："><a href="#常用的正则表达式函数：" class="headerlink" title="常用的正则表达式函数："></a>常用的正则表达式函数：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reg = regexp.MustCompile(`匹配模式`)</span><br><span class="line">reg.FindAllString( )</span><br><span class="line">reg.ReplaceAllString(）</span><br></pre></td></tr></table></figure>

<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">	text := `Hello 世界！123 Go.`</span><br><span class="line"> </span><br><span class="line">	// 查找连续的小写字母</span><br><span class="line">	reg := regexp.MustCompile(`[a-z]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;ello&quot; &quot;o&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续的非小写字母</span><br><span class="line">	reg = regexp.MustCompile(`[^a-z]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;H&quot; &quot; 世界！123 G&quot; &quot;.&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续的单词字母</span><br><span class="line">	reg = regexp.MustCompile(`[\w]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello&quot; &quot;123&quot; &quot;Go&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续的非单词字母、非空白字符</span><br><span class="line">	reg = regexp.MustCompile(`[^\w\s]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;世界！&quot; &quot;.&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续的大写字母</span><br><span class="line">	reg = regexp.MustCompile(`[[:upper:]]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;H&quot; &quot;G&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续的非 ASCII 字符</span><br><span class="line">	reg = regexp.MustCompile(`[[:^ascii:]]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;世界！&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续的标点符号</span><br><span class="line">	reg = regexp.MustCompile(`[\pP]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;！&quot; &quot;.&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续的非标点符号字符</span><br><span class="line">	reg = regexp.MustCompile(`[\PP]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello 世界&quot; &quot;123 Go&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续的汉字</span><br><span class="line">	reg = regexp.MustCompile(`[\p&#123;Han&#125;]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;世界&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续的非汉字字符</span><br><span class="line">	reg = regexp.MustCompile(`[\P&#123;Han&#125;]+`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello &quot; &quot;！123 Go.&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找 Hello 或 Go</span><br><span class="line">	reg = regexp.MustCompile(`Hello|Go`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello&quot; &quot;Go&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找行首以 H 开头，以空格结尾的字符串</span><br><span class="line">	reg = regexp.MustCompile(`^H.*\s`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello 世界！123 &quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找行首以 H 开头，以空白结尾的字符串（非贪婪模式）</span><br><span class="line">	reg = regexp.MustCompile(`(?U)^H.*\s`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello &quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找以 hello 开头（忽略大小写），以 Go 结尾的字符串</span><br><span class="line">	reg = regexp.MustCompile(`(?i:^hello).*Go`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello 世界！123 Go&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找 Go.</span><br><span class="line">	reg = regexp.MustCompile(`\QGo.\E`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Go.&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找从行首开始，以空格结尾的字符串（非贪婪模式）</span><br><span class="line">	reg = regexp.MustCompile(`(?U)^.* `)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello &quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找以空格开头，到行尾结束，中间不包含空格字符串</span><br><span class="line">	reg = regexp.MustCompile(` [^ ]*$`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot; Go.&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找“单词边界”之间的字符串</span><br><span class="line">	reg = regexp.MustCompile(`(?U)\b.+\b`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello&quot; &quot; 世界！&quot; &quot;123&quot; &quot; &quot; &quot;Go&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找连续 1 次到 4 次的非空格字符，并以 o 结尾的字符串</span><br><span class="line">	reg = regexp.MustCompile(`[^ ]&#123;1,4&#125;o`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello&quot; &quot;Go&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找 Hello 或 Go</span><br><span class="line">	reg = regexp.MustCompile(`(?:Hell|G)o`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.FindAllString(text, -1))</span><br><span class="line">	// [&quot;Hello&quot; &quot;Go&quot;]</span><br><span class="line"> </span><br><span class="line">	// 查找 Hello 或 Go，替换为 Hellooo、Gooo</span><br><span class="line">	reg = regexp.MustCompile(`(?PHell|G)o`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.ReplaceAllString(text, &quot;$&#123;n&#125;ooo&quot;))</span><br><span class="line">	// &quot;Hellooo 世界！123 Gooo.&quot;</span><br><span class="line"> </span><br><span class="line">	// 交换 Hello 和 Go</span><br><span class="line">	reg = regexp.MustCompile(`(Hello)(.*)(Go)`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.ReplaceAllString(text, &quot;$3$2$1&quot;))</span><br><span class="line">	// &quot;Go 世界！123 Hello.&quot;</span><br><span class="line"> </span><br><span class="line">	// 特殊字符的查找</span><br><span class="line">	reg = regexp.MustCompile(`[\f\t\n\r\v\123\x7F\x&#123;10FFFF&#125;\\\^\$\.\*\+\?\&#123;\&#125;\(\)\[\]\|]`)</span><br><span class="line">	fmt.Printf(&quot;%q\n&quot;, reg.ReplaceAllString(&quot;\f\t\n\r\v\123\x7F\U0010FFFF\\^$.*+?&#123;&#125;()[]|&quot;, &quot;-&quot;))</span><br><span class="line">	// &quot;----------------------&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="结构体解析为json"><a href="#结构体解析为json" class="headerlink" title="结构体解析为json"></a>结构体解析为json</h2><p>先上代码</p>
<p><strong>最为关键的是结构体里面的成员变量名，首字母必须是大写，否则无法解析，解析出来的是空。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line"></span><br><span class="line">	&quot;encoding/json&quot;</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">type Product struct &#123;</span><br><span class="line">	Name string</span><br><span class="line">	ProductId int64</span><br><span class="line">	Number int</span><br><span class="line">	Price float64</span><br><span class="line">	IsOnSale bool</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func main()  &#123;</span><br><span class="line">	var p Product</span><br><span class="line">	// p := Product&#123;&#125;</span><br><span class="line">	p.Name=&quot;apple&quot;</span><br><span class="line">	p.ProductId=1</span><br><span class="line">	p.Number=100</span><br><span class="line">	p.Price=3.45</span><br><span class="line">	p.IsOnSale=false</span><br><span class="line">	data, _ := json.Marshal(&amp;p)</span><br><span class="line">	fmt.Println(string(data))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="将json字符串解码到相应的数据结构"><a href="#将json字符串解码到相应的数据结构" class="headerlink" title="将json字符串解码到相应的数据结构"></a>将json字符串解码到相应的数据结构</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">type StuRead struct &#123;</span><br><span class="line">    Name  interface&#123;&#125; `json:&quot;name&quot;`</span><br><span class="line">    Age   interface&#123;&#125;</span><br><span class="line">    HIgh  interface&#123;&#125;</span><br><span class="line">    sex   interface&#123;&#125;</span><br><span class="line">    Class interface&#123;&#125; `json:&quot;class&quot;`</span><br><span class="line">    Test  interface&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Class struct &#123;</span><br><span class="line">    Name  string</span><br><span class="line">    Grade int</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    //json字符中的&quot;引号，需用\进行转义，否则编译出错</span><br><span class="line">    //json字符串沿用上面的结果，但对key进行了大小的修改，并添加了sex数据</span><br><span class="line">    data:=&quot;&#123;\&quot;name\&quot;:\&quot;张三\&quot;,\&quot;Age\&quot;:18,\&quot;high\&quot;:true,\&quot;sex\&quot;:\&quot;男\&quot;,\&quot;CLASS\&quot;:&#123;\&quot;naME\&quot;:\&quot;1班\&quot;,\&quot;GradE\&quot;:3&#125;&#125;&quot;</span><br><span class="line">    str:=[]byte(data)</span><br><span class="line"></span><br><span class="line">    //1.Unmarshal的第一个参数是json字符串，第二个参数是接受json解析的数据结构。</span><br><span class="line">    //第二个参数必须是指针，否则无法接收解析的数据，如stu仍为空对象StuRead&#123;&#125;</span><br><span class="line">    //2.可以直接stu:=new(StuRead),此时的stu自身就是指针</span><br><span class="line">    stu:=StuRead&#123;&#125;</span><br><span class="line">    err:=json.Unmarshal(str,&amp;stu)</span><br><span class="line"></span><br><span class="line">    //解析失败会报错，如json字符串格式不对，缺&quot;号，缺&#125;等。</span><br><span class="line">    if err!=nil&#123;</span><br><span class="line">        fmt.Println(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(stu)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="按行读文件"><a href="#按行读文件" class="headerlink" title="按行读文件"></a>按行读文件</h2><p><strong>注意下这里的第二个方法，读到最后字符串为空，有时候可能会报错（被坑过），加一个判断条件，判断长度是否为0。（代码里面自己已经加了）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">func Readlines(filename string) &#123;</span><br><span class="line">	// go 按行读取文件的方式有两种，</span><br><span class="line">	// 第一 将读取到的整个文件内容按照 \n 分割</span><br><span class="line">	// 使用bufio</span><br><span class="line">	// 第一种</span><br><span class="line">	lines, err := ioutil.ReadFile(filename)</span><br><span class="line"></span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		contents := string(lines)</span><br><span class="line">		lines := strings.Split(contents, &quot;\n&quot;)</span><br><span class="line">		for _, line := range lines &#123;</span><br><span class="line">			fmt.Println(line)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	// 第二种</span><br><span class="line">	fd, err := os.Open(filename)</span><br><span class="line">	defer fd.Close()</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		fmt.Println(&quot;read error:&quot;, err)</span><br><span class="line">	&#125;</span><br><span class="line">	buff := bufio.NewReader(fd)</span><br><span class="line"></span><br><span class="line">	for &#123;</span><br><span class="line">		data, _, eof := buff.ReadLine()</span><br><span class="line">		if eof == io.EOF &#123;</span><br><span class="line">			break</span><br><span class="line">		&#125;</span><br><span class="line">		if(len(data)==0)&#123;</span><br><span class="line">           break</span><br><span class="line">        &#125;</span><br><span class="line">		fmt.Println(string(data))</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="字符串与切片的转换"><a href="#字符串与切片的转换" class="headerlink" title="字符串与切片的转换"></a>字符串与切片的转换</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	s := []string&#123;&quot;1&quot;, &quot;2&quot;, &quot;3&quot;&#125;</span><br><span class="line">	ss := fmt.Sprintf(strings.Join(s, &quot;,&quot;))</span><br><span class="line">	fmt.Println(ss)</span><br><span class="line">	slice := strings.Split(ss, &quot;,&quot;)</span><br><span class="line">	fmt.Println(slice)</span><br><span class="line">	//r := gin.Default()</span><br><span class="line">	//r.GET(&quot;/&quot;, func(context *gin.Context) &#123;</span><br><span class="line">	//	context.JSON(http.StatusOK,gin.H&#123;</span><br><span class="line">	//		&quot;message&quot;:&quot;demo&quot;,</span><br><span class="line">	//	&#125;)</span><br><span class="line">	//&#125;)</span><br><span class="line"></span><br><span class="line">	//r.Run()</span><br><span class="line">&#125;</span><br><span class="line">//D:\GoProject\gin-demo&gt;go run main.go</span><br><span class="line">//1,2,3</span><br><span class="line">//[1 2 3]</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/believepd/p/10951763.html">原文链接</a></p>
<h3 id="打开关闭文件"><a href="#打开关闭文件" class="headerlink" title="打开关闭文件"></a>打开关闭文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    // 打开文件</span><br><span class="line">    file, err := os.Open(&quot;e:/a.txt&quot;)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;打开文件出错：%v\n&quot;, err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(file) // &amp;&#123;0xc00006a780&#125;</span><br><span class="line">    // 关闭文件</span><br><span class="line">    err = file.Close()</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;关闭文件出错：%v\n&quot;, err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h3><p><strong>法一：带缓冲</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;bufio&quot;</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;io&quot;</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    // 打开文件</span><br><span class="line">    file, err := os.Open(&quot;e:/a.txt&quot;)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;打开文件出错：%v\n&quot;, err)</span><br><span class="line">    &#125;</span><br><span class="line">    // 及时关闭文件句柄</span><br><span class="line">    defer file.Close()</span><br><span class="line">    // bufio.NewReader(rd io.Reader) *Reader</span><br><span class="line">    reader := bufio.NewReader(file)</span><br><span class="line">    // 循环读取文件的内容</span><br><span class="line">    for &#123;</span><br><span class="line">        line, err := reader.ReadString(&#x27;\n&#x27;) // 读到一个换行符就结束</span><br><span class="line">        if err == io.EOF &#123; // io.EOF表示文件的末尾</span><br><span class="line">            break</span><br><span class="line">        &#125;</span><br><span class="line">        // 输出内容</span><br><span class="line">        fmt.Print(line)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>法二：一次性读入，不适用于大文件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;io/ioutil&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    // 使用 io/ioutil.ReadFile 方法一次性将文件读取到内存中</span><br><span class="line">    filePath := &quot;e:/.txt&quot;</span><br><span class="line">    content, err := ioutil.ReadFile(filePath)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        // log.Fatal(err)</span><br><span class="line">        fmt.Printf(&quot;读取文件出错：%v&quot;, err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(&quot;%v\n&quot;, content)</span><br><span class="line">    fmt.Printf(&quot;%v\n&quot;, string(content))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h3><p>示例1：<br>创建一个新文件，写入3行：”Hello World”<br>打开一个存在的文件，将原来的内容覆盖成新的内容，3行：”你好，世界”<br>打开一个存在的文件，在原来的内容基础上，追加3行：”你好，Golang”<br>打开一个存在的文件，将原来的内容读出显示在终端，并且追加3行：”你好，World”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;bufio&quot;</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    filePath := &quot;e:/a.txt&quot; // 此文件事先不存在</span><br><span class="line">    file, err := os.OpenFile(filePath, os.O_WRONLY | os.O_CREATE, 0666) // O_CREATE 能创建文件</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;打开文件出错：%v&quot;, err)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    // 及时关闭文件句柄</span><br><span class="line">    defer file.Close()</span><br><span class="line">    // 准备写入的内容</span><br><span class="line">    str := &quot;Hello World\r\n&quot;</span><br><span class="line">    // 写入时，使用带缓冲方式的 bufio.NewWriter(w io.Writer) *Writer</span><br><span class="line">    writer := bufio.NewWriter(file)</span><br><span class="line">    // 使用for循环写入内容</span><br><span class="line">    for i := 0; i &lt; 3; i++ &#123;</span><br><span class="line">        _, err := writer.WriteString(str) // func (b *Writer) WriteString(s string) (int, error)</span><br><span class="line">        if err != nil &#123;</span><br><span class="line">            fmt.Printf(&quot;文件写入出错：%s&quot;, err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 因为 writer 是带缓存的，所以需要 Flush 方法将缓冲中的数据真正写入到文件中</span><br><span class="line">    _ = writer.Flush()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>将 O_CREATE 修改为 O_TRUNC 模式即可，表示：打开文件并清空内容<br>将 O_TRUNC 修改为 O_APPEND 模式即可，表示：打开文件并在最后追加内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;bufio&quot;</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;io&quot;</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    filePath := &quot;e:/a.txt&quot;</span><br><span class="line">    file, err := os.OpenFile(filePath, os.O_RDWR | os.O_APPEND, 0666)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;打开文件出错：%v&quot;, err)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    defer file.Close()</span><br><span class="line"></span><br><span class="line">    // 先读取原来文件的内容，并显示在终端</span><br><span class="line">    reader := bufio.NewReader(file)</span><br><span class="line">    for &#123;</span><br><span class="line">        str, err := reader.ReadString(&#x27;\n&#x27;) // 读到一个换行符就结束</span><br><span class="line">        if err == io.EOF &#123; // io.EOF表示文件的末尾</span><br><span class="line">            break</span><br><span class="line">        &#125;</span><br><span class="line">        // 输出内容</span><br><span class="line">        fmt.Print(str)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 准备写入的内容</span><br><span class="line">    str := &quot;你好，World\r\n&quot;</span><br><span class="line">    // 写入时，使用带缓冲方式的 bufio.NewWriter(w io.Writer) *Writer</span><br><span class="line">    writer := bufio.NewWriter(file)</span><br><span class="line">    // 使用for循环写入内容</span><br><span class="line">    for i := 0; i &lt; 3; i++ &#123;</span><br><span class="line">        _, err := writer.WriteString(str) // func (b *Writer) WriteString(s string) (int, error)</span><br><span class="line">        if err != nil &#123;</span><br><span class="line">            fmt.Printf(&quot;文件写入出错：%s&quot;, err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 因为 writer 是带缓存的，所以需要 Flush 方法将缓冲中的数据真正写入到文件中</span><br><span class="line">    _ = writer.Flush()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">4：读写模式（O_RDWR）</span><br></pre></td></tr></table></figure>
<p>示例二：将一个文件写道另一个文件（两个文件均存在）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;io/ioutil&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    filePath1 := &quot;e:/a.txt&quot;</span><br><span class="line">    filePath2 := &quot;e:/b.txt&quot;</span><br><span class="line">    content, err := ioutil.ReadFile(filePath1)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;读取文件出错：%v&quot;, err)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    err = ioutil.WriteFile(filePath2, content, 0666)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;写入文件出错：%v&quot;, err)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="判断文件是否存在"><a href="#判断文件是否存在" class="headerlink" title="判断文件是否存在"></a>判断文件是否存在</h3><p>golang判断文件或文件夹是否存在的方法为使用 os.Stat() 函数返回的错误值进行判断：</p>
<p>如果返回的错误为 nil，说明文件或文件夹存在；<br>如果返回的错误类型使用 os.IsNotExist() 判断为 true，说明文件或文件夹不存在；<br>如果返回的错误为其他类型，则不确定是否存在。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// 判断文件或文件夹是否存在</span><br><span class="line">func PathExist(path string) (bool, error) &#123;</span><br><span class="line">    _, err := os.Stat(path)</span><br><span class="line">    if err == nil &#123;</span><br><span class="line">        return true, nil</span><br><span class="line">    &#125;</span><br><span class="line">    if os.IsNotExist(err) &#123;</span><br><span class="line">        return false, nil</span><br><span class="line">    &#125;</span><br><span class="line">    return false, err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    filePath := &quot;e:/a.txt&quot;</span><br><span class="line">    flag, err := PathExist(filePath)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Println(err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(flag) // true</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="拷贝文件"><a href="#拷贝文件" class="headerlink" title="拷贝文件"></a>拷贝文件</h3><p>将src的数据拷贝到dst，直到在src上到达EOF或发生错误。返回拷贝的字节数和遇到的第一个错误。</p>
<p>对成功的调用，返回值err为nil而非EOF，因为Copy定义为从src读取直到EOF，它不会将读取到EOF视为应报告的错误。如果src实现了WriterTo接口，本函数会调用src.WriteTo(dst)进行拷贝；否则如果dst实现了ReaderFrom接口，本函数会调用dst.ReadFrom(src)进行拷贝。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;bufio&quot;</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;io&quot;</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// 将 srcFilePath 拷贝到 dstFilePath</span><br><span class="line">func CopyFile(dstFilePath string, srcFilePath string) (written int64, err error) &#123;</span><br><span class="line">    // 打开srcFilePath</span><br><span class="line">    srcFile, err := os.Open(srcFilePath)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;打开文件出错：%s\n&quot;, err)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    defer srcFile.Close()</span><br><span class="line">    // 通过 bufio/NewReader，传入 srcFile，获取到 reader</span><br><span class="line">    reader := bufio.NewReader(srcFile)</span><br><span class="line">    // 打开dstFilePath</span><br><span class="line">    dstFile, err := os.OpenFile(dstFilePath, os.O_WRONLY | os.O_CREATE, 0666)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;打开文件出错：%s\n&quot;, err)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    defer dstFile.Close()</span><br><span class="line">    // 通过 bufio/NewWriter，传入 dstFile，获取到 writer</span><br><span class="line">    writer := bufio.NewWriter(dstFile)</span><br><span class="line">    return io.Copy(writer, reader)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    srcFilePath := &quot;e:/a.mp4&quot;</span><br><span class="line">    dstFilePath := &quot;f:/b.mp4&quot;</span><br><span class="line">    _, err := CopyFile(dstFilePath, srcFilePath)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;拷贝文件出错：%s&quot;, err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(&quot;拷贝文件完成&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">自己写一个函数完成拷贝文件</span><br></pre></td></tr></table></figure>
<h3 id="遍历目录"><a href="#遍历目录" class="headerlink" title="遍历目录"></a>遍历目录</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    fmt.Println(&quot;请输入一个目录的路径：&quot;)</span><br><span class="line">    var path string</span><br><span class="line">    _, _ = fmt.Scan(&amp;path)</span><br><span class="line">    // 打开目录</span><br><span class="line">    f, err := os.OpenFile(path, os.O_RDONLY, os.ModeDir)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;Open file failed:%s.\n&quot;, err)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    defer f.Close()</span><br><span class="line">    // 读取目录</span><br><span class="line">    info, err := f.Readdir(-1) // -1 表示读取目录中所有目录项</span><br><span class="line">    // 遍历返回的切片</span><br><span class="line">    for _, fileInfo := range info &#123;</span><br><span class="line">        if fileInfo.IsDir() &#123;</span><br><span class="line">            fmt.Printf(&quot;%s是一个目录\n&quot;, fileInfo.Name())</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            fmt.Printf(&quot;%s是一个文件\n&quot;, fileInfo.Name())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3><p>统计一个文件中含有的英文、数字、空格以及其他字符数量。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;bufio&quot;</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;io&quot;</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// 定义一个结构体，用于保存统计结果</span><br><span class="line">type CharCount struct &#123;</span><br><span class="line">    AlphaCount     int // 记录英文个数</span><br><span class="line">    NumCount     int // 记录数字的个数</span><br><span class="line">    SpaceCount     int // 记录空格的个数</span><br><span class="line">    OtherCount     int // 记录其它字符的个数</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    // 思路: 打开一个文件, 创一个 reader</span><br><span class="line">    // 每读取一行，就去统计该行有多少个 英文、数字、空格和其他字符</span><br><span class="line">    // 然后将结果保存到一个结构体</span><br><span class="line">    filePath := &quot;e:/a.txt&quot;</span><br><span class="line">    file, err := os.Open(filePath)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        fmt.Printf(&quot;打开文件出错：%s\n&quot;, err)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    defer file.Close()</span><br><span class="line">    // 定义一个 CharCount 实例</span><br><span class="line">    var count CharCount</span><br><span class="line">    //创建一个Reader</span><br><span class="line">    reader := bufio.NewReader(file)</span><br><span class="line">    // 开始循环的读取文件的内容</span><br><span class="line">    for &#123;</span><br><span class="line">        line, err := reader.ReadString(&#x27;\n&#x27;)</span><br><span class="line">        if err == io.EOF &#123; // 读到文件末尾就退出</span><br><span class="line">            break</span><br><span class="line">        &#125;</span><br><span class="line">        // 遍历每一行（line），进行统计</span><br><span class="line">        for _, v := range line &#123;</span><br><span class="line">            switch &#123;</span><br><span class="line">                case v &gt;= &#x27;a&#x27; &amp;&amp; v &lt;= &#x27;z&#x27;:</span><br><span class="line">                    fallthrough // 穿透</span><br><span class="line">                case v &gt;= &#x27;A&#x27; &amp;&amp; v &lt;= &#x27;Z&#x27;:</span><br><span class="line">                    count.AlphaCount++</span><br><span class="line">                case v &gt;= &#x27;0&#x27; &amp;&amp; v &lt;= &#x27;9&#x27;:</span><br><span class="line">                    count.NumCount++</span><br><span class="line">                case v == &#x27; &#x27; || v == &#x27;\t&#x27;:</span><br><span class="line">                    count.SpaceCount++</span><br><span class="line">                default :</span><br><span class="line">                    count.OtherCount++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 输出统计的结果看看是否正确</span><br><span class="line">    fmt.Printf(&quot;字符的个数为：%v\n数字的个数为：%v\n空格的个数为：%v\n其它字符个数：%v\n&quot;,</span><br><span class="line">        count.AlphaCount, count.NumCount, count.SpaceCount, count.OtherCount)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </article>
    <!-- license -->
    
        <div class="license-wrapper">
            <p>Author：<a href="https://gaofeng-lin.github.io">John Doe</a>
            <p>Link：<a href="https://gaofeng-lin.github.io/2022/03/06/go/">https://gaofeng-lin.github.io/2022/03/06/go/</a>
            <p>Publish date：<a href="https://gaofeng-lin.github.io/2022/03/06/go/">March 6th 2022, 12:00:00 am</a>
            <p>Update date：<a href="https://gaofeng-lin.github.io/2022/03/06/go/">April 8th 2022, 11:38:22 pm</a>
            <p>License：本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href="/2022/03/06/Shell%E5%91%BD%E4%BB%A4/" title="Linux Shell 命令">
                    <div class="nextTitle">Linux Shell 命令</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href="/2022/03/06/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="Linux常用命令">
                    <div class="prevTitle">Linux常用命令</div>
                </a>
            
        </li>
    </ul>
    <!-- comment -->
    
        <div class="post-comment">
            <!-- 来必力 City 版安装代码 -->


            

            

            

            <!-- utteranc评论 -->


            <!-- partial('_partial/comment/changyan') -->
            <!--PC版-->


            
            

            

        </div>
    
    <!-- timeliness note -->
    <!-- idea from: https://hexo.fluid-dev.com/posts/hexo-injector/#%E6%96%87%E7%AB%A0%E6%97%B6%E6%95%88%E6%80%A7%E6%8F%90%E7%A4%BA -->
    
    <!-- Mathjax -->
    
</main>

                <!-- profile -->
                
            </div>
            <footer class="footer footer-unloaded">
    <!-- social  -->
    
        <div class="social">
            
    
        
            
                <a href="mailto:jason_gaofeng_lin@163.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/gaofeng-lin" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
            
                <span class="iconfont-archer wechat" title=wechat>
                    
                    <img class="profile-qr" src="/assets/example_qr.png" />
                </span>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


        </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- website approve for Chinese user -->
    
    <!-- 不蒜子  -->
    
        <div class="busuanzi-container">
            
             
                <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
            
        </div>
    	
</footer>

        </div>
        <!-- toc -->
        
            <div class="toc-wrapper toc-wrapper-loding" style=







    top:50vh;

>
                <div class="toc-catalog">
                    <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
                </div>
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="toc-number">2.1.</span> <span class="toc-text">占位符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E5%88%92%E7%BA%BF-%E2%80%9C-%E2%80%9D"><span class="toc-number">2.2.</span> <span class="toc-text">下划线  “_”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#x3D-%E5%92%8C-x3D-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.3.</span> <span class="toc-text">&#x3D; 和 :&#x3D;的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String-%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.</span> <span class="toc-text">String()方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E6%8E%A5%E5%8F%97%E8%80%85"><span class="toc-number">2.5.</span> <span class="toc-text">方法接受者</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9A%E4%B9%89%E4%B8%AD%E7%9A%84-json-%E5%8D%95%E5%BC%95%E5%8F%B7%EF%BC%88-96-96-%EF%BC%89"><span class="toc-number">2.6.</span> <span class="toc-text">结构体定义中的 json 单引号（&#96;&#96;）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">3.</span> <span class="toc-text">常用操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.1.</span> <span class="toc-text">判断变量类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90json%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.</span> <span class="toc-text">解析json文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90json%E6%96%87%E4%BB%B6%EF%BC%8Cinterface%E8%BD%ACint"><span class="toc-number">3.3.</span> <span class="toc-text">解析json文件，interface转int</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C"><span class="toc-number">3.4.</span> <span class="toc-text">字符串操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.5.</span> <span class="toc-text">正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%85%83%E5%AD%97%E7%AC%A6%EF%BC%9A"><span class="toc-number">3.5.1.</span> <span class="toc-text">常用的元字符：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%A4%8D"><span class="toc-number">3.5.2.</span> <span class="toc-text">重复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-number">3.5.3.</span> <span class="toc-text">反义字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%87%BD%E6%95%B0%EF%BC%9A"><span class="toc-number">3.5.4.</span> <span class="toc-text">常用的正则表达式函数：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">3.5.5.</span> <span class="toc-text">例子</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E8%A7%A3%E6%9E%90%E4%B8%BAjson"><span class="toc-number">3.6.</span> <span class="toc-text">结构体解析为json</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86json%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A7%A3%E7%A0%81%E5%88%B0%E7%9B%B8%E5%BA%94%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">3.7.</span> <span class="toc-text">将json字符串解码到相应的数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%89%E8%A1%8C%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="toc-number">3.8.</span> <span class="toc-text">按行读文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8E%E5%88%87%E7%89%87%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">3.9.</span> <span class="toc-text">字符串与切片的转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-number">3.10.</span> <span class="toc-text">读写文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%BC%80%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="toc-number">3.10.1.</span> <span class="toc-text">打开关闭文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="toc-number">3.10.2.</span> <span class="toc-text">读文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-number">3.10.3.</span> <span class="toc-text">写文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="toc-number">3.10.4.</span> <span class="toc-text">判断文件是否存在</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6"><span class="toc-number">3.10.5.</span> <span class="toc-text">拷贝文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E7%9B%AE%E5%BD%95"><span class="toc-number">3.10.6.</span> <span class="toc-text">遍历目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E5%AE%83"><span class="toc-number">3.10.7.</span> <span class="toc-text">其它</span></a></li></ol></li></ol></li></ol>
            </div>
        
        <!-- sidebar -->
        <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
        <div class="sidebar-panel-archives">
    <!-- 在 ejs 中将 archive 按照时间排序 -->
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 16
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
        
            
            
            <div class="archive-year"> 2022 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/06</span>
            <a class="archive-post-title" href="/2022/03/06/Docker/">Docker</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/06</span>
            <a class="archive-post-title" href="/2022/03/06/Linux%E7%9F%A5%E8%AF%86%E7%82%B9/">Linux知识点</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/06</span>
            <a class="archive-post-title" href="/2022/03/06/Shell%E5%91%BD%E4%BB%A4/">Linux Shell 命令</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/06</span>
            <a class="archive-post-title" href="/2022/03/06/go/">Go</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/06</span>
            <a class="archive-post-title" href="/2022/03/06/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">Linux常用命令</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/06</span>
            <a class="archive-post-title" href="/2022/03/06/%E4%B8%8B%E8%BD%BD%E8%BF%87%E6%85%A2/">下载过慢</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/06</span>
            <a class="archive-post-title" href="/2022/03/06/%E5%B7%A5%E5%85%B7%E5%BF%AB%E6%8D%B7%E9%94%AE%E9%9B%86%E5%90%88/">工具快捷键集合</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/06</span>
            <a class="archive-post-title" href="/2022/03/06/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/06</span>
            <a class="archive-post-title" href="/2022/03/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">计算机基础知识</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/28</span>
            <a class="archive-post-title" href="/2022/02/28/java%E7%9F%A5%E8%AF%86/">Java知识</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/26</span>
            <a class="archive-post-title" href="/2022/01/26/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/">算法总结</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/14</span>
            <a class="archive-post-title" href="/2022/01/14/Jenkins%E7%9F%A5%E8%AF%86%E7%82%B9/">Jenkins知识点</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/14</span>
            <a class="archive-post-title" href="/2022/01/14/git%E6%93%8D%E4%BD%9C/">git操作</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/14</span>
            <a class="archive-post-title" href="/2022/01/14/python/">python</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/14</span>
            <a class="archive-post-title" href="/2022/01/14/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86/">前端知识</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/14</span>
            <a class="archive-post-title" href="/2022/01/14/%E9%9B%B6%E6%95%A3%E7%9F%A5%E8%AF%86/">零散知识</a>
        </li>
    
    </div>
</div>

        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
        
            <span class="sidebar-tag-name" data-tags="Docker">
                <span class="iconfont-archer">&#xe606;</span>
                Docker
            </span>
        
            <span class="sidebar-tag-name" data-tags="运维">
                <span class="iconfont-archer">&#xe606;</span>
                运维
            </span>
        
            <span class="sidebar-tag-name" data-tags="Linux">
                <span class="iconfont-archer">&#xe606;</span>
                Linux
            </span>
        
            <span class="sidebar-tag-name" data-tags="持续集成">
                <span class="iconfont-archer">&#xe606;</span>
                持续集成
            </span>
        
            <span class="sidebar-tag-name" data-tags="gcc">
                <span class="iconfont-archer">&#xe606;</span>
                gcc
            </span>
        
            <span class="sidebar-tag-name" data-tags="Linux权限用法">
                <span class="iconfont-archer">&#xe606;</span>
                Linux权限用法
            </span>
        
            <span class="sidebar-tag-name" data-tags="Jenkins">
                <span class="iconfont-archer">&#xe606;</span>
                Jenkins
            </span>
        
            <span class="sidebar-tag-name" data-tags="git">
                <span class="iconfont-archer">&#xe606;</span>
                git
            </span>
        
            <span class="sidebar-tag-name" data-tags="代码管理">
                <span class="iconfont-archer">&#xe606;</span>
                代码管理
            </span>
        
            <span class="sidebar-tag-name" data-tags="动态规划">
                <span class="iconfont-archer">&#xe606;</span>
                动态规划
            </span>
        
            <span class="sidebar-tag-name" data-tags="数据结构">
                <span class="iconfont-archer">&#xe606;</span>
                数据结构
            </span>
        
            <span class="sidebar-tag-name" data-tags="Java">
                <span class="iconfont-archer">&#xe606;</span>
                Java
            </span>
        
            <span class="sidebar-tag-name" data-tags="SpringBoot">
                <span class="iconfont-archer">&#xe606;</span>
                SpringBoot
            </span>
        
            <span class="sidebar-tag-name" data-tags="Go">
                <span class="iconfont-archer">&#xe606;</span>
                Go
            </span>
        
            <span class="sidebar-tag-name" data-tags="python">
                <span class="iconfont-archer">&#xe606;</span>
                python
            </span>
        
            <span class="sidebar-tag-name" data-tags="ssh">
                <span class="iconfont-archer">&#xe606;</span>
                ssh
            </span>
        
            <span class="sidebar-tag-name" data-tags="Vim">
                <span class="iconfont-archer">&#xe606;</span>
                Vim
            </span>
        
            <span class="sidebar-tag-name" data-tags="Vue">
                <span class="iconfont-archer">&#xe606;</span>
                Vue
            </span>
        
            <span class="sidebar-tag-name" data-tags="React">
                <span class="iconfont-archer">&#xe606;</span>
                React
            </span>
        
            <span class="sidebar-tag-name" data-tags="JavaScript">
                <span class="iconfont-archer">&#xe606;</span>
                JavaScript
            </span>
        
            <span class="sidebar-tag-name" data-tags="Json">
                <span class="iconfont-archer">&#xe606;</span>
                Json
            </span>
        
            <span class="sidebar-tag-name" data-tags="npm">
                <span class="iconfont-archer">&#xe606;</span>
                npm
            </span>
        
            <span class="sidebar-tag-name" data-tags="yarn">
                <span class="iconfont-archer">&#xe606;</span>
                yarn
            </span>
        
            <span class="sidebar-tag-name" data-tags="梯子">
                <span class="iconfont-archer">&#xe606;</span>
                梯子
            </span>
        
            <span class="sidebar-tag-name" data-tags="office">
                <span class="iconfont-archer">&#xe606;</span>
                office
            </span>
        
            <span class="sidebar-tag-name" data-tags="IDE">
                <span class="iconfont-archer">&#xe606;</span>
                IDE
            </span>
        
            <span class="sidebar-tag-name" data-tags="编辑器">
                <span class="iconfont-archer">&#xe606;</span>
                编辑器
            </span>
        
            <span class="sidebar-tag-name" data-tags="快捷键">
                <span class="iconfont-archer">&#xe606;</span>
                快捷键
            </span>
        
            <span class="sidebar-tag-name" data-tags="数据库">
                <span class="iconfont-archer">&#xe606;</span>
                数据库
            </span>
        
            <span class="sidebar-tag-name" data-tags="MySQL">
                <span class="iconfont-archer">&#xe606;</span>
                MySQL
            </span>
        
            <span class="sidebar-tag-name" data-tags="递归">
                <span class="iconfont-archer">&#xe606;</span>
                递归
            </span>
        
            <span class="sidebar-tag-name" data-tags="nginx">
                <span class="iconfont-archer">&#xe606;</span>
                nginx
            </span>
        
            <span class="sidebar-tag-name" data-tags="编译">
                <span class="iconfont-archer">&#xe606;</span>
                编译
            </span>
        
            <span class="sidebar-tag-name" data-tags="环境变量">
                <span class="iconfont-archer">&#xe606;</span>
                环境变量
            </span>
        
            <span class="sidebar-tag-name" data-tags="Cookie">
                <span class="iconfont-archer">&#xe606;</span>
                Cookie
            </span>
        
            <span class="sidebar-tag-name" data-tags="Session">
                <span class="iconfont-archer">&#xe606;</span>
                Session
            </span>
        
            <span class="sidebar-tag-name" data-tags="密码学">
                <span class="iconfont-archer">&#xe606;</span>
                密码学
            </span>
        
            <span class="sidebar-tag-name" data-tags="硬件知识">
                <span class="iconfont-archer">&#xe606;</span>
                硬件知识
            </span>
        
            <span class="sidebar-tag-name" data-tags="线程、进程">
                <span class="iconfont-archer">&#xe606;</span>
                线程、进程
            </span>
        
            <span class="sidebar-tag-name" data-tags="照片模糊处理">
                <span class="iconfont-archer">&#xe606;</span>
                照片模糊处理
            </span>
        
            <span class="sidebar-tag-name" data-tags="win10">
                <span class="iconfont-archer">&#xe606;</span>
                win10
            </span>
        
            <span class="sidebar-tag-name" data-tags="vscode">
                <span class="iconfont-archer">&#xe606;</span>
                vscode
            </span>
        
            <span class="sidebar-tag-name" data-tags="专利">
                <span class="iconfont-archer">&#xe606;</span>
                专利
            </span>
        
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
        缺失模块，请参考主题文档进行安装配置：https://github.com/fi3ework/hexo-theme-archer#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98
    </div> 
    <div class="sidebar-tags-list"></div>
</div>

        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="Docker">
            <span class="iconfont-archer">&#xe60a;</span>
            Docker
        </span>
    
        <span class="sidebar-category-name" data-categories="Linux">
            <span class="iconfont-archer">&#xe60a;</span>
            Linux
        </span>
    
        <span class="sidebar-category-name" data-categories="Jenkins">
            <span class="iconfont-archer">&#xe60a;</span>
            Jenkins
        </span>
    
        <span class="sidebar-category-name" data-categories="git">
            <span class="iconfont-archer">&#xe60a;</span>
            git
        </span>
    
        <span class="sidebar-category-name" data-categories="Java">
            <span class="iconfont-archer">&#xe60a;</span>
            Java
        </span>
    
        <span class="sidebar-category-name" data-categories="Go">
            <span class="iconfont-archer">&#xe60a;</span>
            Go
        </span>
    
        <span class="sidebar-category-name" data-categories="python">
            <span class="iconfont-archer">&#xe60a;</span>
            python
        </span>
    
        <span class="sidebar-category-name" data-categories="前端开发">
            <span class="iconfont-archer">&#xe60a;</span>
            前端开发
        </span>
    
        <span class="sidebar-category-name" data-categories="小知识">
            <span class="iconfont-archer">&#xe60a;</span>
            小知识
        </span>
    
        <span class="sidebar-category-name" data-categories="工具">
            <span class="iconfont-archer">&#xe60a;</span>
            工具
        </span>
    
        <span class="sidebar-category-name" data-categories="数据库">
            <span class="iconfont-archer">&#xe60a;</span>
            数据库
        </span>
    
        <span class="sidebar-category-name" data-categories="算法">
            <span class="iconfont-archer">&#xe60a;</span>
            算法
        </span>
    
        <span class="sidebar-category-name" data-categories="计算机基础知识">
            <span class="iconfont-archer">&#xe60a;</span>
            计算机基础知识
        </span>
    
        <span class="sidebar-category-name" data-categories="web">
            <span class="iconfont-archer">&#xe60a;</span>
            web
        </span>
    
        <span class="sidebar-category-name" data-categories="操作系统">
            <span class="iconfont-archer">&#xe60a;</span>
            操作系统
        </span>
    
        <span class="sidebar-category-name" data-categories="概念">
            <span class="iconfont-archer">&#xe60a;</span>
            概念
        </span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>

    </div>
</div>

        <!-- site-meta -->
        <script>
    var siteMetaRoot = "/"
    if (siteMetaRoot === "undefined") {
        siteMetaRoot = '/'
    }
    var siteMeta = {
        url: "https://gaofeng-lin.github.io",
        root: siteMetaRoot,
        author: "John Doe"
    }
</script>

        <!-- import experimental options here -->
        <!-- Custom Font -->


        <!-- main func -->
        <script src="/scripts/main.js?v=20211217"></script>
        <!-- dark mode -->
        <script src="/scripts/dark.js?v=20211217"></script>
        <!-- fancybox -->
        <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" defer></script>
        <!-- algolia -->
        
        <!-- busuanzi -->
        
            <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
        
        <!-- CNZZ -->
        
        <!-- async load share.js -->
        
            <script src="/scripts/share.js?v=20211217" async></script>
        
        <!-- mermaid -->
        
    </body>
</html>
