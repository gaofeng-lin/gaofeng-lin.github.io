---
title: 硬件知识
date: 2023/5/09
categories:
  - 硬件
tags:
  - 电源
abbrlink: 7948
---

## diy电脑功耗怎么考虑


[电源功耗如何计算](http://www.lotpc.com/zjzn/8670.html)

### 台式机电源功耗如何计算（简洁版）

**（CPU TDP功耗 + 显卡TDP功耗 + 其它硬件功耗按40W）÷ 0.6 = 电源额定功率（单位：W瓦）**

CPU和显卡是硬件中功耗大户，所以取这两个硬件的TDP功耗，虽然TDP功耗并不是实际功耗，但是可以借用TDP功耗指标来计算。

其它硬件可以打包功耗为40W，例如主板6W，内存2W一根，机械硬盘8W，固态硬盘2W，还有其它包括机箱风扇或者光驱等。

为什么除以0.6，在满载时仍然保留40%冗余功率。

以上电源功率计算公式为独立显卡为主，核心显卡（集成显卡）通常使用250W-300W额定功率足够了，建议额定300W起步。

注意：得出的电源功率需要根据实际情况适当加减取整，如果怕不够可以再加50W。

例子：
i3-9100F+GTX1650电脑主机，i3-9100F TDP功耗为65W，GTX1650 TDP功耗为75W，其它硬件大致按40W算。那么就是（65+75+40）÷ 0.6=300W，建议额定300W-350W。

i5-9400F+GTX1660Super的电脑主机，i5-9400F TDP功耗为65W，GTX1660Super TDP功耗为125W，其它硬件大致按40W算。那么就是（65+125+40）÷ 0.6=383W，建议额定400W-450W。

i7-9700F+RTX2060 SUPER的电脑主机，i7-9700F TDP功耗为65W，RTX2060 SUPER TDP功耗为175W，其它硬件大致按40W算。那么就是（65+175+40）÷ 0.6=466W，建议500W-550W。

i7-9700K+RTX2070Super的电脑主机，i7-9700K TDP功耗为95W，RTX2070Super TDP功耗为215W，其它硬件大致按40W算。那么就是（95+215+40）÷ 0.6=583W，建议额定550W-600W。

i7-9900K+RTX2080Super的电脑主机，i9-9900K TDP功耗为95W，RTX2080Super TDP功耗为250W，其它硬件大致按40W算。那么就是（95+250+40）÷ 0.6=641W，建议额定650W。

R5 3600+RX5700的电脑主机，R5 3600 TDP功耗为65W，RX5700 TDP功耗为185W，其它硬件大致按40W算。那么就是（65+185+40）÷ 0.6=483W，建议500W-550W。


### 迷你主机功耗计算例子

以HP EliteDesk 800 65W G2微型台式电脑为例，其中65W表示整个电脑系统在正常运行时的平均功耗。


**通常情况下，整个电脑系统在正常运行时的平均功耗应该远低于组件的额定功耗之和。这是因为硬件组件在实际使用过程中的功耗并不是始终保持在额定功耗水平，而是根据系统负载和任务需求而变化的。考虑到整体系统功耗的控制，设计者会在选择和配置硬件组件时进行平衡。他们会考虑到各个组件的功耗特性，系统的散热能力以及整体系统在正常使用情况下的功耗。如果CPU的额定功耗为65W，加上内存、硬盘等其他组件的功耗，整体功耗可能会超过65W，但这并不意味着系统不能正常运行。系统设计者通常会预留一定的功耗余量，以应对高负载情况和临时功耗峰值。**

以下是一些硬件组件的功耗范例：

CPU：例如Intel Core i5-6600，功耗范围为65W。

内存：通常情况下，内存的功耗较低，可以忽略不计。

硬盘：例如固态硬盘（SSD），功耗范围为1W至4W，具体取决于型号和容量。

显卡（如果有独立显卡）：例如NVIDIA GeForce GTX 1650，功耗范围为75W至150W，具体取决于型号和厂商。

主板：主板的功耗通常较低，一般在10W以下。

散热器和风扇：功耗较小，一般在1W至5W之间。

**电源的额定功率一定要比各个硬件的功耗之和高，不然可能带不动。**

### 功耗过高，可能出现的问题

1. 过热问题：高功耗会导致系统各个组件（如CPU、显卡、硬盘等）的温度升高。如果散热不足，可能会引发过热问题，导致系统性能下降、崩溃或损坏硬件。

2. 电源供电不足：高功耗可能超出电源的供电能力，导致电压下降、电流不稳定等问题。这可能引起系统不稳定，甚至造成系统崩溃或无法正常启动。

3. 性能下降：当系统整体功耗过高时，电源和其他组件可能无法提供足够的电能来支持系统的高性能运行。这可能导致系统性能下降，例如运行速度变慢、应用程序响应变慢等。

4. 硬件故障：长期以高功耗运行系统可能会对硬件组件造成损坏或加速磨损。例如，过高的电压、电流可能导致电路元件损坏、芯片烧毁等。

为了避免这些问题，建议根据硬件组件的功耗规格和系统的电源供应能力，合理选择和配置硬件，并确保系统整体功耗在可接受范围内。定期清理和维护散热系统也是保持系统性能和稳定性的重要措施。

### 即使电源功率足够，功耗过高也有问题
虽然电源功率足够大可以提供更高的功耗，但系统功耗高并不意味着一定没有问题。尽管电源功率足够大可以满足系统的高功耗需求，但仍然需要考虑以下几个方面：

1. 散热问题：高功耗会导致系统内部产生更多的热量，需要足够的散热系统来有效降低温度。如果散热不足，可能会导致硬件温度升高，影响系统的稳定性和寿命。

2. 稳定性问题：虽然电源功率足够大，但电源供电的稳定性也是至关重要的。如果电源的输出电压、电流不稳定，可能导致系统的不稳定运行、崩溃或损坏硬件。

3. 能效问题：高功耗意味着系统需要更多的电能供应，这可能导致能效下降。较高的功耗也会导致电费增加。

因此，尽管电源功率足够大可以支持高功耗系统，但仍建议根据实际需求选择适当的硬件配置，以平衡性能、稳定性、散热和能效等因素。定期清理和维护散热系统也是保持系统性能和稳定性的重要措施。


## 硬盘拷贝可能出现的问题

### 拷贝后很卡

25年9月进行硬盘拷贝，源硬盘是我笔记本上的固态硬盘，目标硬盘是戴尔迷你主机上的固态硬盘。都是1T的，但是迷你主机上面的实际容量要稍微小一些。拷贝后，把目标硬盘再放回去，能正常进入系统，但是非常卡，右键要等几秒才出来，点刷新也要几秒才行。还有其他小问题。目前已经试过三次，都是一样的：
1. 用diskgenuis
2. 用傲梅
3. 用傲梅+4k对齐

第四次把源硬盘解锁bitlocker，然后清除了部分内容，再用傲梅+4k对齐。稍微快了一点，但还是很卡。思考后，在进入登录页面之前，出现了这个界面：

![](https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img1/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250911204014_26_84.jpg)

联想到可能是因为电源的功率不够，导致硬件无法充分发挥。后面换了90W的电源后，就可以了。

### PIN不再可用

拷贝后进入登录页面，出现了如下情况：

![](https://cdn.jsdelivr.net/gh/gaofeng-lin/picture_bed/img1/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250911204301_27_84.jpg)


源硬盘使用PIN登录，拷贝后基本都会出现这个问题，这里其实应该有两个解决方法。


#### 方法1（未实践，理论可行）
一个是点击“设置我的PIN”，连接热点，就可以通过邮箱或其他验证方式登录。然后修改注册表里面的内容：

\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PasswordLess\Device

将“DevicePasswordLessBuildVersion”的值修改为“0”

重启后使用密码登录，然后进去后把PIN的登录方式删除，再重新设置。

最后把注册表里面的值修改回来。

#### 方法2

原链接：https://zhuanlan.zhihu.com/p/601795892


1. 按住shift，然后点击重启。然后依次点击：疑难解答-》高级选项-》命令提示符
2. 备份Utilman.exe文件，然后将cmd替换为utilman

输入以下内容：

```
copy c:\windows\system32\utilman.exe  c:\windows\system32\utilman1.exe 

copy c:\windows\system32\cmd.exe c:\windows\system32\utilman.exe
```

**大小写可能有些不一样，比如Windows或System32**

重启，到正常登录界面。

3. 打开注册表

点击右下角小人形状的“辅助功能”，即可弹出命令提示符界面。

输入regedit，就可以打开注册表

修改注册表里面的值：

\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PasswordLess\Device

将“DevicePasswordLessBuildVersion”的值修改为“0”


4. 重启登录，恢复文件

重启后就有输入密码的选项，输入正确的微软账号密码就能登陆了。然后pin该修改修改，该重置重置，最后把“DevicePasswordLessBuildVersion”的值改回“2”

进入系统后，如果因为权限问题无法把Utilman1.exe修改回Utilman.exe。可以按照第一步的方法，长按shift+重启进行修改。


### C:\Windows\Microsoft.NET\Framework64\v4.0.30319\config\machine.config 配置分析器错误

原链接：https://learn.microsoft.com/zh-cn/answers/questions/4017395/0x80004005

备份并删除 C:\Windows\Microsoft.NET\Framework64\v4.0.30319\config\machine.config 文件。

将machine.config.default文件复制并重命名为machine.config，重新启动确认情况