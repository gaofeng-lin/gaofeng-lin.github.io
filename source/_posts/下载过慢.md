---
title: 下载过慢
date: 2022/3/6
categories:
  - 小知识
  
tags:
  - npm
  - git
  - yarn
  - 梯子

---



#  Windows
##  浏览器 
windows不要开全局模式，使用命令行下载会出一些问题。用直连或者PAC模式，用浏览器代理，使用插件switchyomega



##  npm 
npm在windows下载过慢一般两个办法，换源或设置代理，linux也是这个思路。
###  设置代理
先打开小飞机。使用命令行

```
npm config set proxy http://server:port
```

> server一般就是127.0.0.1 
> port一般是1080

因为是在本地使用的，所以server为localhost

查看状态：

```
npm config list
```

删除代理：

```
npm config delete proxy
```
###  换源

```
npm config set registry https://registry.npm.taobao.org
```
如果淘宝源不好，可以尝试清华源

###  设置代理和换源的区别

> 代理的话，是设置代理服务器，代理服务器帮你转发下载请求；镜像源的话，是镜像站点已经提前镜像(下载)了所有的npm包，你是直接从它的服务器上获取到的包

##  git(linux相同)
使用http方法 clone代码超时。
解决办法 ：使用代理。
因为github是国外的，http/https访问国外网址经常超时，类似与youtube , google。
 
![在这里插入图片描述](https://img-blog.csdnimg.cn/2ad73dd4498640689397880ce6fdb9e2.png#pic_center)
查看设置：

```
git config --list
```

#  Linux下设置代理
换源的方法和windows一样，设置代理有些不同。
##  npm设置代理
需要下载代理客户端--clash
可以去Github直接搜索。
![在这里插入图片描述](https://img-blog.csdnimg.cn/8986f5c2d1ec4c1eb9143f50a80b613e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16)

这里面有个关键的东西：

```
 wget -O config.yml https://dingyue.suying666.info/link/1mrTmf9SI8DxkW5c?clash=1&log-level=info
```

http那一块是由厂家提供的，每个厂家的不一样。

按照这个教程会生成两个配置文件，.yml和.yaml。把yml里面的内容复制到.yaml，再删除yml。.yaml是新版的。

如果这个时候输出的信息不大对，或者无法使用clahs dashboard 访问，可能是配置文件有问题。

使用：

```
./clash -f 配置文件
```

可以看到是否有错误。

关于clash的命令可以使用help来尝试。

##  npm 查看一个包的版本信息
**假设现在我们已经成功下载了jquery，过了一段时间，我忘记了下载的jquery的版本信息，这个时候，我们就需要查看本地下载的jquery版本信息，怎么做呢？**

第一种方式：`npm ls jquery` 即可（查看本地安装的jQuery），下面我的本地没有安装jquery，所以返回empty的结果；

第二种方式：`npm ls jquery -g` (查看全局安装的jquery)

有了npm 我们能够简单的一段代码就下载我们需要的包，但是包是不断更新的，

所以我们要关注包的版本信息；

**现在，假设我们需要 jquery ，但是jquery现在有很多版本，我们如何通过npm查看呢？
要知道，现在的jquery包在npm服务器的上，我们使用下面的命令查看：**

一种方式：使用`npm view jquery versions`这种方式可以查看npm服务器上所有的jquery版本信息；

第二种方式：使用`npm view jquery version`这种方式只能查看jquery的最新的版本是哪一个；

第三种方式：使用`npm info jquery`这种方式和第一种类似，也可以查看jquery所有的版本，但是能查出更多的关于jquery的信息；


##  npm 安装指定版本的包
**安装指定版本的jquery-1.11.2**

```
npm install jquery@1.11.0
```

**安装1.0中的最新版本**

```
npm install jquery@1
```

**安装2.0版本中的最新版本**

```
npm install jquery@2
```



#  yarn
##  yarn安装
```
npm install -g yarn //成功
npm install yarn //失败
```
#  pip 下载过慢
由于pip/pypi默认为国外源，下载和安装Python第三方库会非常慢，建议配置国内源：
清华源：
`pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple`

然后 pip install ***


#  swithcyomegy  v2ray
## 配置
目的：让浏览器既可以访问outside，访问国内网址也不慢

![在这里插入图片描述](https://img-blog.csdnimg.cn/cabf32f8757d45c58bc49ac69d58aa74.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16)
默认注意几个模式的选择，默认情景模式是直接连接

规则列表如果网上找的更新失败，可以去github上面找。
![在这里插入图片描述](https://img-blog.csdnimg.cn/57d74b4807c14dba9e65f3dd18f989f5.png)
![在这里插入图片描述](https://img-blog.csdnimg.cn/94f842edafb9435e844181e2245b3d74.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16)
随便选一个
![在这里插入图片描述](https://img-blog.csdnimg.cn/5f590171d65c488db4c6deebc57acd0b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16)

复制输入框里面的网址就好了。
![在这里插入图片描述](https://img-blog.csdnimg.cn/62667fc0fd2d4a25b932d201dcb1f7db.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16)

第一次更新情景模式要调成直连模式，后面换为PAC模式。然后switchyomegy换位auto switch

## 更新订阅遇到问题
当需要更新订阅时（购买了套餐，或续费）。一定要先关闭http链接，再选择更新订阅。
![在这里插入图片描述](https://img-blog.csdnimg.cn/6cf1b31547d54325bea8cf40ee0129a2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IiU54uXMeWPtw==,size_20,color_FFFFFF,t_70,g_se,x_16)
